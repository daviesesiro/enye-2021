{"version":3,"sources":["types.ts","utils/centerCard.ts","components/Card.tsx","components/Button.tsx","components/ScrollToTop.tsx","components/Layout.tsx","components/SearchBar.tsx","components/CheckBox.tsx","components/PaginationButtons.tsx","components/Dropdown.tsx","App.tsx","utils/useFetchProfiles.ts","utils/filterProfiles.ts","utils/paginate.ts","index.tsx"],"names":["PaymentMethodMap","cc","paypal","check","centerCard","card","cb","halfWWidth","window","innerWidth","halfWHeight","innerHeight","halfCWidth","clientWidth","halfCHeight","clientHeight","X","offsetLeft","Y","offsetTop","document","scrollingElement","scrollTop","style","transition","transform","setTimeout","Attribute","name","value","className","Card","profile","useState","show","setShow","cardRef","useRef","closeCard","threshold","Math","abs","useEffect","scrollListenter","current","addEventListener","removeEventListener","onClick","ref","size","FirstName","LastName","Email","Gender","PaymentMethod","Object","entries","filter","key","includes","map","toString","Button","props","children","ScrollToTop","scrollListener","scrollY","scrollTo","top","behavior","visibility","opacity","color","Layout","Footer","href","target","rel","NavBar","SearchBar","onChange","type","placeholder","CheckBox","label","id","htmlFor","CheckBoxes","handleCheckBoxChange","data","idx","PaginationButtons","cursor","icr","dcr","disabled","hasMore","Dropdown","handleChange","defaultValue","defaultChecked","App","isFetching","state","setState","a","axios","get","res","old","console","log","response","error","fetchProfiles","useFetchProfiles","searchQuery","setSearchQuery","setCursor","genders","paymentMethod","setFilter","paginated","setPaginated","profiles","searchedProfiles","records","Fuse","keys","shouldSort","search","$or","p","item","length","d","toLowerCase","filterProfiles","min","take","slice","paginate","e","gender","push","message","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.657793ef.chunk.js","sourcesContent":["export interface response {\r\n  records: { profiles: Profile[] };\r\n  status: string;\r\n  size: number;\r\n}\r\n\r\nexport type Profile = {\r\n  FirstName: string;\r\n  LastName: string;\r\n  Gender: string;\r\n  Latitude: number;\r\n  Longitude: number;\r\n  CreditCardNumber: string;\r\n  CreditCardType: string;\r\n  Email: string;\r\n  DomainName: string;\r\n  PhoneNumber: string;\r\n  MacAddress: string;\r\n  URL: string;\r\n  UserName: string;\r\n  LastLogin: string;\r\n  PaymentMethod: string;\r\n};\r\n\r\nexport type Filter = {\r\n  genders: string[];\r\n  paymentMethod: string;\r\n};\r\n\r\nexport const PaymentMethodMap: { [key: string]: string } = {\r\n  cc: \"Credit Card\",\r\n  \"money order\": \"Money Order\",\r\n  paypal: \"Paypay\",\r\n  check: \"Check\",\r\n};\r\n","export const centerCard = (\r\n  card: HTMLDivElement,\r\n  cb?: (threshold: number) => void\r\n) => {\r\n  const halfWWidth = window.innerWidth * 0.5;\r\n  const halfWHeight = window.innerHeight * 0.5;\r\n\r\n  const halfCWidth = card.clientWidth * 0.5;\r\n  const halfCHeight = card.clientHeight * 0.5;\r\n  const cOffLeft = card.offsetLeft;\r\n  const cOffTop = card.offsetTop - document.scrollingElement!.scrollTop;\r\n\r\n  const X = halfWWidth - cOffLeft - halfCWidth;\r\n  const Y = halfWHeight - cOffTop - halfCHeight;\r\n\r\n  card.style.transition = \".5s \";\r\n  card.style.transform = `translate(${X}px, ${Y}px)`;\r\n\r\n  if (cb) {\r\n    cb(Y);\r\n  }\r\n\r\n  setTimeout(() => {\r\n    card.style.transition = \".3s\";\r\n  }, 100);\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { PaymentMethodMap, Profile } from \"../types\";\r\nimport { BsCaretRightFill, BsX, BsArrowRight } from \"react-icons/bs\";\r\nimport { centerCard } from \"../utils/centerCard\";\r\n\r\nconst Card: React.FC<{ profile: Profile }> = ({ profile }) => {\r\n  const [show, setShow] = useState(false);\r\n  const cardRef = useRef<HTMLDivElement>(null);\r\n\r\n  const closeCard = (threshold: number) => {\r\n    if (Math.abs(threshold) > 400) setShow(false);\r\n  };\r\n\r\n  const getRemainingAttrs = () =>\r\n    Object.entries(profile).filter(\r\n      ([key, _]) =>\r\n        ![\"Gender\", \"PaymentMethod\", \"Email\", \"FirstName\", \"LastName\"].includes(\r\n          key\r\n        )\r\n    );\r\n\r\n  useEffect(() => {\r\n    const scrollListenter = () => {\r\n      centerCard(cardRef.current as HTMLDivElement, closeCard);\r\n    };\r\n    if (show) {\r\n      centerCard(cardRef.current as HTMLDivElement);\r\n      window.addEventListener(\"scroll\", scrollListenter);\r\n    } else {\r\n      cardRef.current!.style.transform = \"translate(0)\";\r\n    }\r\n\r\n    return () => window.removeEventListener(\"scroll\", scrollListenter);\r\n  }, [show]);\r\n\r\n  return (\r\n    <>\r\n      {show && (\r\n        <button\r\n          onClick={() => setShow(false)}\r\n          className=\"fixed inset-0 z-40 w-screen bg-black opacity-50\"\r\n        ></button>\r\n      )}\r\n      <div\r\n        ref={cardRef}\r\n        className={`${\r\n          show\r\n            ? \"z-50 sm:w-max relative max-h-card h-.8screen sm:h-auto overflow-y-auto sm:overflow-y-auto\"\r\n            : \"\"\r\n        }  group card`}\r\n      >\r\n        {show && (\r\n          <button\r\n            className=\"top-5 left-5 absolute\"\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <BsX size={30} className=\"text-red-700\" />\r\n          </button>\r\n        )}\r\n        <h1 className=\"text-xl text-center\">{`${profile.FirstName} ${profile.LastName}`}</h1>\r\n        <div className=\"sm:px-5 px-2 mt-8 font-light text-gray-300\">\r\n          <Attribute value={profile.Email} name={\"Email\"} />\r\n          <Attribute value={profile.Gender} name={\"Gender\"} />\r\n          <Attribute\r\n            value={PaymentMethodMap[profile.PaymentMethod]}\r\n            name={\"Payment Method\"}\r\n          />\r\n          {show &&\r\n            getRemainingAttrs().map(([key, value]) => (\r\n              <Attribute\r\n                key={profile.Email + \"-atr-\" + key}\r\n                value={value.toString()}\r\n                name={key}\r\n              />\r\n            ))}\r\n        </div>\r\n        {!show && (\r\n          <button\r\n            onClick={() => setShow(true)}\r\n            className=\"group-hover:text-purple-50 group-hover:bg-purple-700 rounded-xs block px-2 py-1 mx-auto mt-8 text-purple-900 duration-200 bg-gray-200 rounded-sm\"\r\n          >\r\n            View More <BsArrowRight className=\"inline\" />\r\n          </button>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Attribute = ({ name, value }: { name: string; value: string }) => (\r\n  <p className=\"sm:block flex flex-col items-center\">\r\n    <BsCaretRightFill className=\" sm:inline hidden mr-4 text-purple-500\" />\r\n    <span className=\"sm:mt-0 mt-2 font-bold text-gray-500\">{name}:</span>{\" \"}\r\n    {value}\r\n  </p>\r\n);\r\n\r\nexport default Card;\r\n","export const Button = (props: any) => (\r\n  <button\r\n    {...props}\r\n    className={\r\n      \"disabled:bg-gray-700 p-2 px-5 bg-purple-700 duration-200 hover:bg-purple-900 rounded-md \" +\r\n      props.className\r\n    }\r\n  >\r\n    {props.children}\r\n  </button>\r\n);\r\n","import { FiArrowUp } from \"react-icons/fi\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Button } from \"./Button\";\r\n\r\nexport const ScrollToTop = () => {\r\n  const [show, setShow] = useState(false);\r\n  useEffect(() => {\r\n    const scrollListener = () => {\r\n      if (window.scrollY >= 100) {\r\n        setShow(true);\r\n      } else {\r\n        setShow(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"scroll\", scrollListener);\r\n\r\n    return () => document.removeEventListener(\"scroll\", scrollListener);\r\n  }, [setShow]);\r\n\r\n  return (\r\n    <Button\r\n      onClick={() => window.scrollTo({ top: 0, behavior: \"smooth\" })}\r\n      className=\"bottom-10 right-5 fixed p-4 text-white duration-200 bg-purple-700 rounded-md\"\r\n      style={\r\n        show\r\n          ? { visibility: \"visible\", opacity: 1 }\r\n          : { visibility: \"hidden\", opacity: 0 }\r\n      }\r\n    >\r\n      <FiArrowUp color=\"white\" />\r\n    </Button>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { ScrollToTop } from \"./ScrollToTop\";\r\n\r\nexport const Layout: React.FC = ({ children }) => (\r\n  <>\r\n    <NavBar />\r\n    <div className=\"min-h-.8screen px-5\">{children}</div>\r\n    <ScrollToTop />\r\n    <Footer />\r\n  </>\r\n);\r\nconst Footer = () => (\r\n  <p className=\"md:px-10 md:text-left py-5 mt-16 text-lg font-light text-center text-white bg-gray-900\">\r\n    Made with ðŸ’– by{\" \"}\r\n    <a\r\n      className=\"hover:text-purple-500 hover:shadow-lg ring-purple-300 font-bold text-purple-700\"\r\n      href=\"http://github.com/daviesesiro\"\r\n      target=\"_blank\"\r\n      rel=\"noopener noreferrer\"\r\n    >\r\n      Davies Ojurere\r\n    </a>{\" \"}\r\n    ~ 2021\r\n  </p>\r\n);\r\nconst NavBar = () => {\r\n  return (\r\n    <header className=\"p-3 bg-purple-900\">\r\n      <h1 className=\"text-2xl font-bold text-center text-white\">\r\n        Enye Challenge Phase 1\r\n      </h1>\r\n    </header>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nconst SearchBar = ({\r\n  onChange,\r\n}: {\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}) => {\r\n  return (\r\n    <div className=\"flex justify-center mt-5\">\r\n      <input\r\n        onChange={onChange}\r\n        className=\"focus:ring-2 ring-opacity-50 focus:w-80 w-60 focus:border-transparent ring-purple-700 focus:outline-none inline-block p-2 duration-300 border border-gray-400 rounded-md\"\r\n        type=\"search\"\r\n        placeholder=\"Search Patient...\"\r\n        name=\"patient-name\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\n\r\nconst CheckBox: React.FC<{\r\n  label: string;\r\n  className: string;\r\n  value?: any;\r\n  id: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}> = ({ label, id, className, onChange, value }) => (\r\n  <div className={\"inline \" + className}>\r\n    <input\r\n      onChange={onChange}\r\n      className=\"w-5 h-5 align-middle\"\r\n      type=\"checkbox\"\r\n      id={id}\r\n      name={label}\r\n      value={value}\r\n    />\r\n    <label htmlFor={id} className=\"ml-2 align-middle\">\r\n      {label}\r\n    </label>\r\n  </div>\r\n);\r\n\r\nexport const CheckBoxes = ({\r\n  handleCheckBoxChange,\r\n}: {\r\n  handleCheckBoxChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}) => {\r\n  const checkboxesData = [\r\n    {\r\n      label: \"Male\",\r\n      value: \"Male\",\r\n      id: \"male\",\r\n    },\r\n    {\r\n      label: \"Male\",\r\n      value: \"Male\",\r\n      id: \"male\",\r\n    },\r\n    {\r\n      label: \"Female\",\r\n      value: \"Female\",\r\n      id: \"female\",\r\n    },\r\n  ];\r\n  return (\r\n    <div>\r\n      {checkboxesData.map((data, idx) => (\r\n        <CheckBox\r\n          key={\"checkbox-\" + idx}\r\n          value={data.value}\r\n          id={data.id}\r\n          onChange={handleCheckBoxChange}\r\n          label={data.label}\r\n          className=\"mr-3\"\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Button } from \"./Button\";\r\nimport { Profile } from \"../types\";\r\n\r\nexport const PaginationButtons: React.FC<{\r\n  data: { hasMore: boolean; data: Profile[] };\r\n  cursor: number;\r\n  setCursor: any;\r\n  icr: (amount: number) => void;\r\n  dcr: (amount: number) => void;\r\n}> = ({ cursor, icr, dcr, data }) => {\r\n  return (\r\n    <div className=\" container mx-auto mt-10 text-center text-white\">\r\n      <Button className=\"mr-4\" disabled={cursor <= 0} onClick={icr}>\r\n        Back\r\n      </Button>\r\n      <Button disabled={!data.hasMore} onClick={dcr}>\r\n        Next\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Dropdown = ({\r\n  handleChange,\r\n}: {\r\n  handleChange: (event: React.ChangeEvent<HTMLSelectElement>) => void;\r\n}) => {\r\n  return (\r\n    <select\r\n      defaultValue=\"Choose an Option\"\r\n      defaultChecked={true}\r\n      onChange={handleChange}\r\n      name=\"payment-method\"\r\n      className=\"focus:ring-2 focus:outline-none ring-opacity-50 ring-purple-700 px-4 py-1 mt-1 border border-gray-400 rounded-md\"\r\n      id=\"payment-method\"\r\n    >\r\n      <option>Choose an Option</option>\r\n      <option value=\"cc\">Credit Card </option>\r\n      <option value=\"money order\">Money Order</option>\r\n      <option value=\"paypal\">Paypal</option>\r\n      <option value=\"check\">Check</option>\r\n    </select>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Card from \"./components/Card\";\nimport { useFetchProfiles } from \"./utils/useFetchProfiles\";\nimport { RiLoader4Fill } from \"react-icons/ri\";\nimport { Filter, Profile, response } from \"./types\";\nimport { Layout } from \"./components/Layout\";\nimport SearchBar from \"./components/SearchBar\";\nimport { CheckBoxes } from \"./components/CheckBox\";\nimport { PaginationButtons } from \"./components/PaginationButtons\";\nimport { paginate } from \"./utils/paginate\";\nimport { Dropdown } from \"./components/Dropdown\";\nimport { filterProfiles } from \"./utils/filterProfiles\";\n\nconst App = () => {\n  const { data, isFetching, error } = useFetchProfiles();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [cursor, setCursor] = useState(0);\n  const [filter, setFilter] = useState<Filter>({\n    genders: [],\n    paymentMethod: \"\",\n  });\n\n  const [paginated, setPaginated] = useState<{\n    hasMore: boolean;\n    data: Profile[];\n  }>({ data: [], hasMore: false });\n\n  const nextPage = () => setCursor((old) => old - 20);\n  const prevPage = () => setCursor((old) => old + 20);\n\n  useEffect(() => {\n    //reset cursor during a search or filter\n    setCursor(0);\n  }, [searchQuery, filter, setCursor]);\n\n  useEffect(() => {\n    if (!data) return;\n\n    let profiles: Profile[] = filterProfiles(searchQuery, data, filter);\n    setPaginated(\n      paginate({ ...data, records: { profiles } } as response, cursor)\n    );\n  }, [data, cursor, setPaginated, searchQuery, filter]);\n\n  const handleCheckBoxChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.toLowerCase();\n    setFilter((old) => {\n      let genders = old.genders;\n\n      if (genders.includes(value))\n        genders = genders.filter((gender) => gender !== value);\n      else genders.push(value);\n\n      return {\n        ...old,\n        genders,\n      };\n    });\n  };\n\n  const handleDropdownChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    setFilter((old) => ({ ...old, paymentMethod: e.target.value }));\n  };\n\n  return (\n    <Layout>\n      <SearchBar onChange={(e) => setSearchQuery(e.target.value)} />\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"sm:flex-row flex flex-col items-center mt-2\">\n          <span className=\"md:inline block mr-5 text-gray-600\">Gender:</span>\n          <CheckBoxes handleCheckBoxChange={handleCheckBoxChange} />\n        </div>\n        <div className=\"sm:flex-row flex flex-col items-center mt-2\">\n          <span className=\"mr-2 text-gray-600\">Payment Method:</span>\n          <Dropdown handleChange={handleDropdownChange} />\n        </div>\n      </div>\n      {error && (\n        <div className=\"flex items-center justify-center h-64\">\n          <h1 className=\"text-4xl font-bold text-red-600\">{error?.message}</h1>\n        </div>\n      )}\n      {isFetching ? (\n        <div className=\"flex items-center justify-center min-h-.8screen text-white\">\n          <RiLoader4Fill color=\"black\" size={50} className=\"animate-spin\" />\n        </div>\n      ) : (\n        <>\n          <div className=\"2xl:grid-cols-flexible-xl md:px-10 grid-cols-flexible place-content-center gap-x-16 gap-y-14 grid items-start mx-auto mt-10\">\n            {paginated.data.map((profile) => (\n              <Card key={profile.Email} profile={profile} />\n            ))}\n          </div>\n          <PaginationButtons\n            cursor={cursor}\n            setCursor={setCursor}\n            data={paginated}\n            icr={nextPage}\n            dcr={prevPage}\n          />\n        </>\n      )}\n    </Layout>\n  );\n};\n\nexport default App;\n","import axios, { AxiosError } from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { response } from \"../types\";\r\n\r\ntype state = {\r\n  isFetching: boolean;\r\n  data?: response;\r\n  error?: AxiosError;\r\n};\r\n\r\nexport const useFetchProfiles = () => {\r\n  const [state, setState] = useState<state>({\r\n    isFetching: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchProfiles = async () => {\r\n      try {\r\n        const res = await axios.get<response>(\r\n          \"https://api.enye.tech/v1/challenge/records\"\r\n        );\r\n\r\n        setState((old) => ({ ...old, data: res.data, isFetching: false }));\r\n      } catch (error) {\r\n        console.log(error.response);\r\n        setState((old) => ({ ...old, error, isFetching: false }));\r\n      }\r\n    };\r\n\r\n    fetchProfiles();\r\n  }, [setState]);\r\n\r\n  return { ...state };\r\n};\r\n","import Fuse from \"fuse.js\";\r\nimport { Profile, response } from \"../types\";\r\n\r\nexport function filterProfiles(\r\n  searchQuery: string,\r\n  data: response,\r\n  filter: { genders: string[]; paymentMethod: string }\r\n) {\r\n  let searchedProfiles: Profile[] = [];\r\n\r\n  if (searchQuery === \"\") {\r\n    searchedProfiles = data.records.profiles;\r\n  } else {\r\n    searchedProfiles = new Fuse<Profile>(data.records.profiles, {\r\n      keys: [\"FirstName\", \"LastName\"],\r\n      threshold: 0.3,\r\n      shouldSort: true,\r\n    })\r\n      .search({ $or: [{ FirstName: searchQuery }, { LastName: searchQuery }] })\r\n      .map((p) => p.item); //get only the items\r\n  }\r\n\r\n  //filter with gender\r\n  if (filter.genders.length > 0)\r\n    searchedProfiles = searchedProfiles.filter((d) =>\r\n      filter.genders.includes(d.Gender.toLowerCase())\r\n    );\r\n\r\n  //filter with payment method\r\n  if (![\"Choose an Option\", \"\"].includes(filter.paymentMethod)) {\r\n    searchedProfiles = searchedProfiles.filter(\r\n      (d) => d.PaymentMethod === filter.paymentMethod\r\n    );\r\n  }\r\n  return searchedProfiles;\r\n}\r\n","import { response } from \"../types\";\r\n\r\nexport const paginate = (res: response, cursor: number = 0) => {\r\n  cursor = Math.min(cursor, res.size);\r\n  const take = Math.min(cursor + 20 + 1, res.size);\r\n\r\n  const dataPlusOne = res.records.profiles.slice(cursor, take);\r\n  const data = dataPlusOne.slice(0, 20);\r\n  const hasMore = data.length === 20;\r\n\r\n  return { data, hasMore };\r\n};\r\n","import React from \"react\";\n\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"./styles/main.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}