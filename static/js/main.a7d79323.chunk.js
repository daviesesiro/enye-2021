(this["webpackJsonpphase-1"]=this["webpackJsonpphase-1"]||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(2),a=n(21),s=n.n(a),i=n(3),l=n(6),o=n(5),u=n(26),d=n(10),j=function(e){var t=.5*window.innerWidth,n=.5*window.innerHeight,r=.5*e.clientWidth,c=.5*e.clientHeight,a=t-e.offsetLeft-r,s=n-(e.offsetTop-document.scrollingElement.scrollTop)-c;e.style.transition=".5s ",e.style.transform="translate(".concat(a,"px, ").concat(s,"px)"),setTimeout((function(){e.style.transition=".3s"}),100)},b=function(e){var t=e.name,n=e.value;return Object(r.jsxs)("p",{className:"md:block flex flex-col items-center leading-6",children:[Object(r.jsx)(d.b,{className:" md:inline hidden mr-4 text-purple-500"}),Object(r.jsxs)("span",{className:"md:mt-0 mt-2 font-bold text-gray-500",children:[t,":"]})," ",n]})},m=function(e){var t=e.profile,n=Object(c.useState)(!1),a=Object(o.a)(n,2),s=a[0],i=a[1],l=Object(c.useRef)(null),u=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=function(){return j(l.current)};return s?(j(l.current),window.addEventListener("scroll",e)):l.current.style.transform="translateX(0)",function(){return window.removeEventListener("scroll",e)}}),[s]),Object(r.jsxs)(r.Fragment,{children:[s&&Object(r.jsx)("button",{onClick:function(){return i(!1)},className:"fixed inset-0 z-40 w-screen h-screen bg-black opacity-50"}),Object(r.jsxs)("div",{ref:l,className:"".concat(s?"z-50 md:w-max h-screen md:h-auto overflow-y-scroll md:overflow-y-auto":"","  group card"),children:[s&&Object(r.jsx)("button",{onClick:function(){return i(!1)},children:Object(r.jsx)(d.c,{size:30,className:"text-red-700"})}),Object(r.jsx)("h1",{className:"text-xl text-center",children:"".concat(t.FirstName," ").concat(t.LastName)}),Object(r.jsxs)("div",{className:"md:px-5 px-2 mt-8 font-light text-gray-300",children:[Object(r.jsx)(b,{value:t.Email,name:"Email"}),Object(r.jsx)(b,{value:t.Gender,name:"Gender"}),Object(r.jsx)(b,{value:t.PaymentMethod,name:"Payment Method"}),s&&Object.entries(t).map((function(e){var t=Object(o.a)(e,2),n=t[0],c=t[1];return["Gender","PaymentMethod","Email","FirstName","LastName"].includes(n)?Object(r.jsx)(r.Fragment,{}):Object(r.jsx)(b,{value:c.toString(),name:n})}))]}),!s&&Object(r.jsxs)("button",{ref:u,onClick:function(){return i(!0)},className:"group-hover:text-purple-50 group-hover:bg-purple-700 rounded-xs block px-2 py-1 mx-auto mt-8 text-purple-900 duration-200 bg-gray-200 rounded-sm",children:["View More ",Object(r.jsx)(d.a,{className:"inline"})]})]})]})},h=n(12),x=n.n(h),p=n(22),f=n(23),O=n.n(f),g=n(25),v=n(24),y=function(e){return Object(r.jsx)("button",Object(i.a)(Object(i.a)({},e),{},{className:"disabled:bg-gray-700 p-2 px-5 bg-purple-700 duration-200 hover:bg-purple-900 rounded-md "+e.className,children:e.children}))},N=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=function(){window.scrollY>=100?a(!0):a(!1)};return document.addEventListener("scroll",e),function(){return document.removeEventListener("scroll",e)}}),[a]),Object(r.jsx)(y,{onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},className:"bottom-10 right-5 fixed p-4 text-white duration-200 bg-purple-700 rounded-md",style:n?{visibility:"visible",opacity:1}:{visibility:"hidden",opacity:0},children:Object(r.jsx)(v.a,{color:"white"})})},w=function(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(k,{}),Object(r.jsx)("div",{className:"min-h-.8screen px-5",children:t}),Object(r.jsx)(N,{}),Object(r.jsx)(C,{})]})},C=function(){return Object(r.jsxs)("p",{className:"md:px-10 md:text-left py-5 mt-16 text-lg font-light text-center text-white bg-gray-900",children:["Made with \ud83d\udc96 by"," ",Object(r.jsx)("a",{className:"hover:text-purple-500 hover:shadow-lg ring-purple-300 font-bold text-purple-700",href:"http://github.com/daviesesiro",target:"_blank",rel:"noopener noreferrer",children:"Davies Ojurere"})," ","~ 2020"]})},k=function(){return Object(r.jsx)("header",{className:"p-3 bg-purple-900",children:Object(r.jsx)("h1",{className:"text-2xl font-bold text-center text-white",children:"Enye Challenge Phase 1"})})},M=function(e){var t=e.onChange;return Object(r.jsx)("div",{className:"flex justify-center mt-5",children:Object(r.jsx)("input",{onChange:t,className:"focus:ring-2 ring-opacity-50 focus:w-80 w-60 focus:border-transparent ring-purple-700 focus:outline-none inline-block p-2 duration-300 border border-gray-400 rounded-md",type:"search",placeholder:"Search Patient...",name:"patient-name"})})},E=function(e){var t=e.label,n=e.id,c=e.className,a=e.onChange,s=e.value;return Object(r.jsxs)("div",{className:"inline "+c,children:[Object(r.jsx)("input",{onChange:a,className:"w-5 h-5 align-middle",type:"checkbox",id:n,name:t,value:s}),Object(r.jsx)("label",{htmlFor:n,className:"ml-2 align-middle",children:t})]})},F=function(e){var t=e.cursor,n=e.icr,c=e.dcr,a=e.data;return Object(r.jsxs)("div",{className:" container mx-auto mt-10 text-center text-white",children:[Object(r.jsx)(y,{className:"mr-4",disabled:t<=0,onClick:n,children:"Back"}),Object(r.jsx)(y,{disabled:!a.hasMore,onClick:c,children:"Next"})]})},P=function(){var e=function(){var e=Object(c.useState)({isFetching:!0}),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){!function(){var e=Object(p.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://api.enye.tech/v1/challenge/records");case 3:t=e.sent,r((function(e){return Object(i.a)(Object(i.a)({},e),{},{data:t.data,isFetching:!1})})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),r((function(t){return Object(i.a)(Object(i.a)({},t),{},{error:e.t0,isFetching:!1})}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[r]),Object(i.a)({},n)}(),t=e.data,n=e.isFetching,a=(e.error,Object(c.useState)("")),s=Object(o.a)(a,2),d=s[0],j=s[1],b=Object(c.useState)(0),h=Object(o.a)(b,2),f=h[0],v=h[1],y=Object(c.useState)({genders:[],paymentMethod:""}),N=Object(o.a)(y,2),C=N[0],k=N[1],P=Object(c.useState)({data:[],hasMore:!1}),S=Object(o.a)(P,2),L=S[0],z=S[1];Object(c.useEffect)((function(){v(0)}),[d,C,v]),Object(c.useEffect)((function(){if(t){var e=[];e=""===d?t.records.profiles:new u.a(Object(l.a)(t.records.profiles),{keys:["FirstName","LastName"],threshold:0}).search(d).map((function(e){return e.item})),C.genders.length>0&&(e=e.filter((function(e){return C.genders.includes(e.Gender.toLowerCase())}))),["Choose an Option",""].includes(C.paymentMethod)||(e=e.filter((function(e){return e.PaymentMethod===C.paymentMethod}))),z(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.min(t,e.size);var n=Math.min(t+20+1,e.size),r=e.records.profiles.slice(t,n).slice(0,20),c=20===r.length;return{data:r,hasMore:c}}(Object(i.a)(Object(i.a)({},t),{},{records:{profiles:e}}),f))}}),[t,f,z,d,C]);var G=function(e){var t=e.target.value.toLowerCase();k((function(e){var n=e.genders;return n.includes(t)?n=n.filter((function(e){return e!==t})):n.push(t),Object(i.a)(Object(i.a)({},e),{},{genders:n})}))};return Object(r.jsxs)(w,{children:[Object(r.jsx)(M,{onChange:function(e){return j(e.target.value)}}),Object(r.jsxs)("div",{className:"max-w-md mx-auto",children:[Object(r.jsxs)("div",{className:"mt-2",children:[Object(r.jsx)("span",{className:"md:inline block mr-5 text-gray-600",children:"Gender:"}),Object(r.jsx)(E,{value:"Male",id:"male",onChange:G,label:"Male",className:"mr-3"}),Object(r.jsx)(E,{value:"Female",id:"female",onChange:G,label:"Female",className:"mr-3"}),Object(r.jsx)(E,{value:"Prefer to Skip",id:"prefer-to-skip",onChange:G,label:"Prefer to Skip",className:"mr-3"})]}),Object(r.jsxs)("div",{className:"flex items-center mt-2",children:[Object(r.jsx)("span",{className:"mr-2 text-gray-600",children:"Payment Method:"}),Object(r.jsxs)("select",{defaultValue:"Choose an Option",defaultChecked:!0,onChange:function(e){k((function(t){return Object(i.a)(Object(i.a)({},t),{},{paymentMethod:e.target.value})}))},name:"payment-method",className:"px-3 py-1",id:"payment-method",children:[Object(r.jsx)("option",{children:"Choose an Option"}),Object(r.jsx)("option",{value:"cc",children:"Credit Card "}),Object(r.jsx)("option",{value:"money order",children:"Money Order"}),Object(r.jsx)("option",{value:"paypal",children:"Paypal"}),Object(r.jsx)("option",{value:"check",children:"Check"})]})]})]}),n?Object(r.jsx)("div",{className:"flex items-center justify-center min-h-.8screen text-white",children:Object(r.jsx)(g.a,{color:"black",size:50,className:"animate-spin"})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"2xl:grid-cols-flexible-xl md:px-10 grid-cols-flexible place-content-center gap-x-16 gap-y-14 grid items-start mx-auto mt-10",children:L.data.map((function(e){return Object(r.jsx)(m,{profile:e},e.CreditCardNumber)}))}),Object(r.jsx)(F,{cursor:f,setCursor:v,data:L,icr:function(){return v((function(e){return e-20}))},dcr:function(){return v((function(e){return e+20}))}})]})]})},S=Object(c.createContext)({isFetching:!0}),L=function(e){var t=e.children;return Object(r.jsx)(S.Provider,{value:{},children:t})};n(51);s.a.render(Object(r.jsx)(L,{children:Object(r.jsx)(P,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.a7d79323.chunk.js.map