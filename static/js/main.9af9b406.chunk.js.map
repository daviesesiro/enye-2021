{"version":3,"sources":["components/Button.tsx","components/ScrollToTop.tsx","components/Layout.tsx","components/SearchBar.tsx","components/CheckBox.tsx","components/PaginationButtons.tsx","components/Dropdown.tsx","types.ts","utils/centerCard.ts","components/CardAttribute.tsx","components/Card.tsx","components/CardList.tsx","App.tsx","utils/useFetchProfiles.ts","utils/filterProfiles.ts","utils/paginate.ts","index.tsx"],"names":["Button","props","className","children","ScrollToTop","useState","show","setShow","useEffect","scrollListener","window","scrollY","document","addEventListener","removeEventListener","onClick","scrollTo","top","behavior","style","visibility","opacity","color","Layout","Footer","href","target","rel","NavBar","SearchBar","onChange","type","placeholder","name","CheckBox","label","id","value","htmlFor","CheckBoxes","handleCheckBoxChange","map","data","idx","PaginationButtons","cursor","nextPage","prevPage","scroll","pageNumber","handleClick","cb","getElementById","offsetTop","disabled","hasMore","Dropdown","handleChange","defaultValue","defaultChecked","PaymentMethodMap","cc","paypal","check","centerCard","card","halfWWidth","innerWidth","halfWHeight","innerHeight","halfCWidth","clientWidth","halfCHeight","clientHeight","X","offsetLeft","Y","scrollingElement","scrollTop","zIndex","transform","Attribute","Date","toDateString","body","Card","profile","cardRef","useRef","closeCard","threshold","Math","abs","scrollListenter","current","ref","size","FullName","Email","Gender","PaymentMethod","Object","entries","filter","key","includes","toString","CardList","paginatedProfiles","App","isFetching","state","setState","a","axios","get","res","records","profiles","p","FirstName","LastName","old","console","log","response","error","fetchProfiles","useFetchProfiles","searchQuery","setSearchQuery","setCursor","page","setPage","genders","paymentMethod","setFilter","paginated","setPaginated","searchedProfiles","Fuse","keys","shouldSort","search","item","length","d","toLowerCase","filterProfiles","min","take","slice","paginate","e","gender","push","message","ReactDOM","render"],"mappings":"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","file":"static/js/main.9af9b406.chunk.js","sourcesContent":["export const Button = (props: any) => (\r\n  <button {...props} className={\"btn btn-primary \" + props.className}>\r\n    {props.children}\r\n  </button>\r\n);\r\n","import { FiArrowUp } from \"react-icons/fi\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Button } from \"./Button\";\r\n\r\nexport const ScrollToTop = () => {\r\n  const [show, setShow] = useState(false);\r\n  useEffect(() => {\r\n    const scrollListener = () => {\r\n      if (window.scrollY >= 100) {\r\n        setShow(true);\r\n      } else {\r\n        setShow(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"scroll\", scrollListener);\r\n\r\n    return () => document.removeEventListener(\"scroll\", scrollListener);\r\n  }, [setShow]);\r\n\r\n  return (\r\n    <Button\r\n      onClick={() => window.scrollTo({ top: 0, behavior: \"smooth\" })}\r\n      className=\"bottom-10 right-5 fixed p-4\"\r\n      style={\r\n        show\r\n          ? { visibility: \"visible\", opacity: 1 }\r\n          : { visibility: \"hidden\", opacity: 0 }\r\n      }\r\n    >\r\n      <FiArrowUp color=\"white\" />\r\n    </Button>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { ScrollToTop } from \"./ScrollToTop\";\r\n\r\nexport const Layout: React.FC = ({ children }) => (\r\n  <>\r\n    <NavBar />\r\n    <div className=\"min-h-.8screen px-5\">{children}</div>\r\n    <ScrollToTop />\r\n    <Footer />\r\n  </>\r\n);\r\nconst Footer = () => (\r\n  <footer className=\"footer\">\r\n    Made with 💖 by{\" \"}\r\n    <a\r\n      className=\"hover:text-purple-500 hover:shadow-lg ring-purple-300 font-bold text-purple-700\"\r\n      href=\"http://github.com/daviesesiro\"\r\n      target=\"_blank\"\r\n      rel=\"noopener noreferrer\"\r\n    >\r\n      Davies Ojurere\r\n    </a>{\" \"}\r\n    ~ 2021\r\n  </footer>\r\n);\r\nconst NavBar = () => {\r\n  return (\r\n    <header className=\"p-3 bg-purple-900\">\r\n      <h1 className=\"text-2xl font-bold text-center text-white\">\r\n        Enye Challenge Phase 1\r\n      </h1>\r\n    </header>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nconst SearchBar = ({\r\n  onChange,\r\n}: {\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}) => {\r\n  return (\r\n    <div className=\"flex justify-center mt-5\">\r\n      <input\r\n        onChange={onChange}\r\n        className=\"search\"\r\n        type=\"search\"\r\n        placeholder=\"Search Patient...\"\r\n        name=\"patient-name\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\n\r\nconst CheckBox: React.FC<{\r\n  label: string;\r\n  className: string;\r\n  value?: any;\r\n  id: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}> = ({ label, id, className, onChange, value }) => (\r\n  <div className={\"inline \" + className}>\r\n    <input\r\n      onChange={onChange}\r\n      className=\"w-5 h-5 align-middle\"\r\n      type=\"checkbox\"\r\n      id={id}\r\n      name={label}\r\n      value={value}\r\n    />\r\n    <label htmlFor={id} className=\"ml-2 align-middle\">\r\n      {label}\r\n    </label>\r\n  </div>\r\n);\r\n\r\nexport const CheckBoxes = ({\r\n  handleCheckBoxChange,\r\n}: {\r\n  handleCheckBoxChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}) => {\r\n  const checkboxesData = [\r\n    {\r\n      label: \"Male\",\r\n      value: \"Male\",\r\n      id: \"male\",\r\n    },\r\n    {\r\n      label: \"Female\",\r\n      value: \"Female\",\r\n      id: \"female\",\r\n    },\r\n    {\r\n      label: \"Prefer to Skip\",\r\n      value: \"Prefer to Skip\",\r\n      id: \"prefer-to-skip\",\r\n    },\r\n  ];\r\n  return (\r\n    <div>\r\n      {checkboxesData.map((data, idx) => (\r\n        <CheckBox\r\n          key={\"checkbox-\" + idx}\r\n          value={data.value}\r\n          id={data.id}\r\n          onChange={handleCheckBoxChange}\r\n          label={data.label}\r\n          className=\"mr-3\"\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Button } from \"./Button\";\r\nimport { Profile } from \"../types\";\r\n\r\nexport const PaginationButtons: React.FC<{\r\n  data: { hasMore: boolean; data: Profile[] };\r\n  cursor: number;\r\n  setCursor: any;\r\n  nextPage: (amount: number) => void;\r\n  prevPage: (amount: number) => void;\r\n  scroll?: boolean;\r\n  pageNumber: number;\r\n}> = ({ cursor, nextPage, prevPage, data, scroll, pageNumber }) => {\r\n  const handleClick = (cb: any) => {\r\n    if (scroll) {\r\n      window.scrollTo({\r\n        top: document.getElementById(\"card-list\")!.offsetTop - 50,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n    cb();\r\n  };\r\n  return (\r\n    <div className=\" container mx-auto mt-10 text-center\">\r\n      <Button\r\n        className=\"mr-4\"\r\n        disabled={cursor <= 0}\r\n        onClick={() => handleClick(prevPage)}\r\n      >\r\n        Back\r\n      </Button>\r\n      <span className=\" mr-4\">{pageNumber}</span>\r\n      <Button disabled={!data.hasMore} onClick={() => handleClick(nextPage)}>\r\n        Next\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Dropdown = ({\r\n  handleChange,\r\n}: {\r\n  handleChange: (event: React.ChangeEvent<HTMLSelectElement>) => void;\r\n}) => {\r\n  return (\r\n    <select\r\n      defaultValue=\"Choose an Option\"\r\n      defaultChecked={true}\r\n      onChange={handleChange}\r\n      name=\"payment-method\"\r\n      className=\"focus:ring-2 focus:outline-none ring-opacity-50 ring-purple-700 px-4 py-1 mt-1 border border-gray-400 rounded-md\"\r\n      id=\"payment-method\"\r\n    >\r\n      <option>Choose an Option</option>\r\n      <option value=\"cc\">Credit Card </option>\r\n      <option value=\"money order\">Money Order</option>\r\n      <option value=\"paypal\">Paypal</option>\r\n      <option value=\"check\">Check</option>\r\n    </select>\r\n  );\r\n};\r\n","export interface response {\r\n  records: { profiles: Profile[] };\r\n  status: string;\r\n  size: number;\r\n}\r\n\r\nexport type Profile = {\r\n  FullName: string;\r\n  FirstName: string;\r\n  LastName: string;\r\n  Gender: string;\r\n  Latitude: number;\r\n  Longitude: number;\r\n  CreditCardNumber: string;\r\n  CreditCardType: string;\r\n  Email: string;\r\n  DomainName: string;\r\n  PhoneNumber: string;\r\n  MacAddress: string;\r\n  URL: string;\r\n  UserName: string;\r\n  LastLogin: string;\r\n  PaymentMethod: string;\r\n};\r\n\r\nexport type Filter = {\r\n  genders: string[];\r\n  paymentMethod: string;\r\n};\r\n\r\nexport type PaginatedData = {\r\n  hasMore: boolean;\r\n  data: Profile[];\r\n};\r\n\r\nexport const PaymentMethodMap: { [key: string]: string } = {\r\n  cc: \"Credit Card\",\r\n  \"money order\": \"Money Order\",\r\n  paypal: \"Paypay\",\r\n  check: \"Check\",\r\n};\r\n","export const centerCard = (\r\n  card: HTMLDivElement,\r\n  cb?: (threshold: number) => void\r\n) => {\r\n  const halfWWidth = window.innerWidth * 0.5;\r\n  const halfWHeight = window.innerHeight * 0.5;\r\n\r\n  const halfCWidth = card.clientWidth * 0.5;\r\n  const halfCHeight = card.clientHeight * 0.5;\r\n  const cOffLeft = card.offsetLeft;\r\n  // relative to the current viewport\r\n  const cOffTop = card.offsetTop - document.scrollingElement!.scrollTop;\r\n\r\n  const X = halfWWidth - cOffLeft - halfCWidth;\r\n  const Y = halfWHeight - cOffTop - halfCHeight;\r\n\r\n  card.style.zIndex = \"50\";\r\n  card.style.transform = `translate(${X}px, ${Y}px)`;\r\n\r\n  if (cb) {\r\n    cb(Y);\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { BsCaretRightFill } from \"react-icons/bs\";\r\n\r\nexport const Attribute = ({ name, value }: { name: string; value: string }) => {\r\n  value = name === \"LastLogin\" ? new Date(value).toDateString() : value;\r\n  let body =\r\n    name === \"URL\" || name === \"DomainName\" ? (\r\n      <a\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        className=\"font-bold text-purple-600\"\r\n        href={value}\r\n      >\r\n        {value}\r\n      </a>\r\n    ) : (\r\n      <span>{value}</span>\r\n    );\r\n\r\n  return (\r\n    <div className=\"sm:block sm:py-1 flex flex-col items-center\">\r\n      <BsCaretRightFill className=\" sm:inline hidden mr-4 text-purple-500\" />\r\n      <span className=\"sm:mt-0 mt-2 font-bold text-gray-500\">{name}: </span>\r\n      {body}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { PaymentMethodMap, Profile } from \"../types\";\r\nimport { BsX, BsArrowRight } from \"react-icons/bs\";\r\nimport { centerCard } from \"../utils/centerCard\";\r\nimport { Attribute } from \"./CardAttribute\";\r\n\r\nconst Card: React.FC<{ profile: Profile }> = ({ profile }) => {\r\n  const [show, setShow] = useState(false);\r\n  const cardRef = useRef<HTMLDivElement>(null);\r\n\r\n  const closeCard = (threshold: number) => {\r\n    if (Math.abs(threshold) > 400) setShow(false);\r\n  };\r\n\r\n  const getRemainingAttrs = () =>\r\n    Object.entries(profile).filter(\r\n      ([key, _]) =>\r\n        ![\r\n          \"Gender\",\r\n          \"PaymentMethod\",\r\n          \"Email\",\r\n          \"FirstName\",\r\n          \"LastName\",\r\n          \"FullName\",\r\n        ].includes(key)\r\n    );\r\n\r\n  useEffect(() => {\r\n    const scrollListenter = () => {\r\n      centerCard(cardRef.current as HTMLDivElement, closeCard);\r\n    };\r\n    if (show) {\r\n      centerCard(cardRef.current as HTMLDivElement);\r\n      window.addEventListener(\"scroll\", scrollListenter);\r\n    } else {\r\n      cardRef.current!.style.transform = \"translate(0)\";\r\n    }\r\n\r\n    return () => window.removeEventListener(\"scroll\", scrollListenter);\r\n  }, [show]);\r\n\r\n  return (\r\n    <>\r\n      {show && (\r\n        <button\r\n          onClick={() => setShow(false)}\r\n          className=\"opacity-60 fixed inset-0 z-40 w-screen bg-black\"\r\n        ></button>\r\n      )}\r\n      <div ref={cardRef} className={`${show ? \"show\" : \"\"} group card`}>\r\n        {show && (\r\n          <button\r\n            className=\"top-5 left-5 absolute\"\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <BsX size={30} className=\"text-red-700\" />\r\n          </button>\r\n        )}\r\n        <h1 className=\"text-xl text-center\">{profile.FullName}</h1>\r\n        <div className=\"sm:px-5 px-2 mt-8 font-light text-gray-300\">\r\n          <Attribute value={profile.Email} name={\"Email\"} />\r\n          <Attribute value={profile.Gender} name={\"Gender\"} />\r\n          <Attribute\r\n            value={PaymentMethodMap[profile.PaymentMethod]}\r\n            name={\"Payment Method\"}\r\n          />\r\n          {show &&\r\n            getRemainingAttrs().map(([key, value]) => {\r\n              return (\r\n                <Attribute\r\n                  key={profile.Email + \"-atr-\" + key}\r\n                  value={value.toString()}\r\n                  name={key}\r\n                />\r\n              );\r\n            })}\r\n        </div>\r\n        {!show && (\r\n          <button\r\n            onClick={() => setShow(true)}\r\n            className=\"group-hover:text-purple-50 group-hover:bg-purple-700 btn btn-secondary block mx-auto mt-8\"\r\n          >\r\n            View More <BsArrowRight className=\"inline\" />\r\n          </button>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { PaginatedData } from \"../types\";\r\n\r\nexport const CardList = ({\r\n  paginatedProfiles,\r\n}: {\r\n  paginatedProfiles: PaginatedData;\r\n}) => {\r\n  return (\r\n    <div id=\"card-list\" className=\"card-list mt-10\">\r\n      {paginatedProfiles.data.map((profile) => (\r\n        <Card key={profile.Email} profile={profile} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useFetchProfiles } from \"./utils/useFetchProfiles\";\nimport { RiLoader4Fill } from \"react-icons/ri\";\nimport { Filter, PaginatedData, Profile, response } from \"./types\";\nimport { Layout } from \"./components/Layout\";\nimport SearchBar from \"./components/SearchBar\";\nimport { CheckBoxes } from \"./components/CheckBox\";\nimport { PaginationButtons } from \"./components/PaginationButtons\";\nimport { paginate } from \"./utils/paginate\";\nimport { Dropdown } from \"./components/Dropdown\";\nimport { filterProfiles } from \"./utils/filterProfiles\";\nimport { CardList } from \"./components/CardList\";\n\nconst App = () => {\n  const { data, isFetching, error } = useFetchProfiles();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [cursor, setCursor] = useState(0);\n  const [page, setPage] = useState(1);\n  const [filter, setFilter] = useState<Filter>({\n    genders: [],\n    paymentMethod: \"\",\n  });\n\n  const [paginated, setPaginated] = useState<PaginatedData>({\n    data: [],\n    hasMore: false,\n  });\n\n  const prevPage = () => {\n    setPage((old) => old - 1);\n    setCursor((old) => old - 20);\n  };\n  const nextPage = () => {\n    setPage((old) => old + 1);\n    setCursor((old) => old + 20);\n  };\n\n  useEffect(() => {\n    //reset cursor during a search or filter\n    setCursor(0);\n  }, [searchQuery, filter, setCursor]);\n\n  useEffect(() => {\n    if (!data) return;\n\n    let profiles: Profile[] = filterProfiles(searchQuery, data, filter);\n    setPaginated(\n      paginate({ ...data, records: { profiles } } as response, cursor)\n    );\n  }, [data, cursor, setPaginated, searchQuery, filter]);\n\n  const handleCheckBoxChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.toLowerCase();\n    setFilter((old) => {\n      let genders = old.genders;\n\n      if (genders.includes(value))\n        genders = genders.filter((gender) => gender !== value);\n      else genders.push(value);\n\n      return {\n        ...old,\n        genders,\n      };\n    });\n  };\n\n  const handleDropdownChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    setFilter((old) => ({ ...old, paymentMethod: e.target.value }));\n  };\n\n  return (\n    <Layout>\n      <SearchBar onChange={(e) => setSearchQuery(e.target.value)} />\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"sm:flex-row flex flex-col items-center mt-2\">\n          <span className=\"md:inline block mr-5 text-gray-600\">Gender:</span>\n          <CheckBoxes handleCheckBoxChange={handleCheckBoxChange} />\n        </div>\n        <div className=\"sm:flex-row flex flex-col items-center mt-2\">\n          <span className=\"mr-2 text-gray-600\">Payment Method:</span>\n          <Dropdown handleChange={handleDropdownChange} />\n        </div>\n      </div>\n      {error && (\n        <div className=\"flex items-center justify-center h-64\">\n          <h1 className=\"text-4xl font-bold text-red-600\">{error?.message}</h1>\n        </div>\n      )}\n      {isFetching ? (\n        <div className=\"flex items-center justify-center min-h-.8screen text-white\">\n          <RiLoader4Fill color=\"black\" size={50} className=\"animate-spin\" />\n        </div>\n      ) : (\n        <>\n          <PaginationButtons\n            cursor={cursor}\n            setCursor={setCursor}\n            data={paginated}\n            nextPage={nextPage}\n            prevPage={prevPage}\n            pageNumber={page}\n          />\n          <CardList paginatedProfiles={paginated} />\n          <PaginationButtons\n            cursor={cursor}\n            setCursor={setCursor}\n            data={paginated}\n            nextPage={nextPage}\n            prevPage={prevPage}\n            scroll\n            pageNumber={page}\n          />\n        </>\n      )}\n    </Layout>\n  );\n};\n\nexport default App;\n","import axios, { AxiosError } from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { response } from \"../types\";\r\n\r\ntype state = {\r\n  isFetching: boolean;\r\n  data?: response;\r\n  error?: AxiosError;\r\n};\r\n\r\nexport const useFetchProfiles = () => {\r\n  const [state, setState] = useState<state>({\r\n    isFetching: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchProfiles = async () => {\r\n      try {\r\n        const res = await axios.get<response>(\r\n          \"https://api.enye.tech/v1/challenge/records\"\r\n        );\r\n\r\n        res.data.records.profiles = res.data.records.profiles.map((p) => ({\r\n          ...p,\r\n          FullName: `${p.FirstName} ${p.LastName}`,\r\n        }));\r\n\r\n        setState((old) => ({ ...old, data: res.data, isFetching: false }));\r\n      } catch (error) {\r\n        console.log(error.response);\r\n        setState((old) => ({ ...old, error, isFetching: false }));\r\n      }\r\n    };\r\n\r\n    fetchProfiles();\r\n  }, [setState]);\r\n\r\n  return { ...state };\r\n};\r\n","import Fuse from \"fuse.js\";\r\nimport { Profile, response } from \"../types\";\r\n\r\nexport function filterProfiles(\r\n  searchQuery: string,\r\n  data: response,\r\n  filter: { genders: string[]; paymentMethod: string }\r\n) {\r\n  let searchedProfiles: Profile[] = [];\r\n\r\n  if (searchQuery === \"\") {\r\n    searchedProfiles = data.records.profiles;\r\n  } else {\r\n    searchedProfiles = new Fuse<Profile>(data.records.profiles, {\r\n      keys: [\"FullName\"],\r\n      threshold: 0.4,\r\n      shouldSort: true,\r\n    })\r\n      .search(searchQuery)\r\n      .map((p) => p.item); //get only the items\r\n  }\r\n\r\n  //filter with gender\r\n  if (filter.genders.length > 0)\r\n    searchedProfiles = searchedProfiles.filter((d) =>\r\n      filter.genders.includes(d.Gender.toLowerCase())\r\n    );\r\n\r\n  //filter with payment method\r\n  if (![\"Choose an Option\", \"\"].includes(filter.paymentMethod)) {\r\n    searchedProfiles = searchedProfiles.filter(\r\n      (d) => d.PaymentMethod === filter.paymentMethod\r\n    );\r\n  }\r\n  return searchedProfiles;\r\n}\r\n","import { response } from \"../types\";\r\n\r\nexport const paginate = (res: response, cursor: number = 0) => {\r\n  cursor = Math.min(cursor, res.size);\r\n  const take = Math.min(cursor + 20 + 1, res.size);\r\n\r\n  const dataPlusOne = res.records.profiles.slice(cursor, take);\r\n  const data = dataPlusOne.slice(0, 20);\r\n  const hasMore = data.length === 20;\r\n\r\n  return { data, hasMore };\r\n};\r\n","import React from \"react\";\n\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"./styles/main.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}