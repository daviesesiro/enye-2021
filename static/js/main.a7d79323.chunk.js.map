{"version":3,"sources":["utils/centerCard.ts","components/Card.tsx","components/Button.tsx","components/ScrollToTop.tsx","components/Layout.tsx","components/SearchBar.tsx","components/CheckBox.tsx","components/PaginationButtons.tsx","App.tsx","utils/useFetchProfiles.ts","utils/paginate.tsx","context/AppContext.tsx","index.tsx"],"names":["centerCard","card","halfWWidth","window","innerWidth","halfWHeight","innerHeight","halfCWidth","clientWidth","halfCHeight","clientHeight","X","offsetLeft","Y","offsetTop","document","scrollingElement","scrollTop","style","transition","transform","setTimeout","Attribute","name","value","className","Card","profile","useState","show","setShow","cardRef","useRef","ButtonRef","useEffect","scrollListenter","current","addEventListener","removeEventListener","onClick","ref","size","FirstName","LastName","Email","Gender","PaymentMethod","Object","entries","map","key","includes","toString","Button","props","children","ScrollToTop","scrollListener","scrollY","scrollTo","top","behavior","visibility","opacity","color","Layout","Footer","href","target","rel","NavBar","SearchBar","onChange","type","placeholder","CheckBox","label","id","htmlFor","PaginationButtons","cursor","icr","dcr","data","disabled","hasMore","App","isFetching","state","setState","a","axios","get","res","old","console","log","error","fetchProfiles","useFetchProfiles","searchQuery","setSearchQuery","setCursor","genders","paymentMethod","filter","setFilter","paginated","setPaginated","searchedProfiles","records","profiles","Fuse","keys","threshold","search","p","item","length","d","toLowerCase","Math","min","take","slice","paginate","handleCheckBoxChange","e","gender","push","defaultValue","defaultChecked","CreditCardNumber","AppContext","createContext","AppContextProvider","Provider","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a7d79323.chunk.js","sourcesContent":["export const centerCard = (card: HTMLDivElement) => {\r\n  const halfWWidth = window.innerWidth * 0.5;\r\n  const halfWHeight = window.innerHeight * 0.5;\r\n\r\n  const halfCWidth = card.clientWidth * 0.5;\r\n  const halfCHeight = card.clientHeight * 0.5;\r\n  const cOffLeft = card.offsetLeft;\r\n  const cOffTop = card.offsetTop - document.scrollingElement!.scrollTop;\r\n\r\n  const X = halfWWidth - cOffLeft - halfCWidth;\r\n  const Y = halfWHeight - cOffTop - halfCHeight;\r\n\r\n  card.style.transition = \".5s \";\r\n  card.style.transform = `translate(${X}px, ${Y}px)`;\r\n\r\n  setTimeout(() => {\r\n    card.style.transition = \".3s\";\r\n  }, 100);\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Profile } from \"../types\";\r\nimport { BsCaretRightFill, BsX, BsArrowRight } from \"react-icons/bs\";\r\nimport { centerCard } from \"../utils/centerCard\";\r\n\r\nconst Card: React.FC<{ profile: Profile }> = ({ profile }) => {\r\n  const [show, setShow] = useState(false);\r\n  const cardRef = useRef<HTMLDivElement>(null);\r\n  const ButtonRef = useRef<HTMLButtonElement>(null);\r\n\r\n  useEffect(() => {\r\n    const scrollListenter = () => centerCard(cardRef.current as HTMLDivElement);\r\n    if (show) {\r\n      centerCard(cardRef.current as HTMLDivElement);\r\n      window.addEventListener(\"scroll\", scrollListenter);\r\n    } else {\r\n      cardRef.current!.style.transform = \"translateX(0)\";\r\n    }\r\n\r\n    return () => window.removeEventListener(\"scroll\", scrollListenter);\r\n  }, [show]);\r\n\r\n  return (\r\n    <>\r\n      {show && (\r\n        <button\r\n          onClick={() => setShow(false)}\r\n          className=\"fixed inset-0 z-40 w-screen h-screen bg-black opacity-50\"\r\n        ></button>\r\n      )}\r\n      <div\r\n        ref={cardRef}\r\n        className={`${\r\n          show\r\n            ? \"z-50 md:w-max h-screen md:h-auto overflow-y-scroll md:overflow-y-auto\"\r\n            : \"\"\r\n        }  group card`}\r\n      >\r\n        {show && (\r\n          <button onClick={() => setShow(false)}>\r\n            <BsX size={30} className=\"text-red-700\" />\r\n          </button>\r\n        )}\r\n        <h1 className=\"text-xl text-center\">{`${profile.FirstName} ${profile.LastName}`}</h1>\r\n        <div className=\"md:px-5 px-2 mt-8 font-light text-gray-300\">\r\n          <Attribute value={profile.Email} name={\"Email\"} />\r\n          <Attribute value={profile.Gender} name={\"Gender\"} />\r\n          <Attribute value={profile.PaymentMethod} name={\"Payment Method\"} />\r\n          {show &&\r\n            Object.entries(profile).map(([key, value]) => {\r\n              if (\r\n                [\r\n                  \"Gender\",\r\n                  \"PaymentMethod\",\r\n                  \"Email\",\r\n                  \"FirstName\",\r\n                  \"LastName\",\r\n                ].includes(key)\r\n              )\r\n                return <></>;\r\n\r\n              return <Attribute value={value.toString()} name={key} />;\r\n            })}\r\n        </div>\r\n        {!show && (\r\n          <button\r\n            ref={ButtonRef}\r\n            onClick={() => setShow(true)}\r\n            className=\"group-hover:text-purple-50 group-hover:bg-purple-700 rounded-xs block px-2 py-1 mx-auto mt-8 text-purple-900 duration-200 bg-gray-200 rounded-sm\"\r\n          >\r\n            View More <BsArrowRight className=\"inline\" />\r\n          </button>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Attribute = ({ name, value }: { name: string; value: string }) => (\r\n  <p className=\"md:block flex flex-col items-center leading-6\">\r\n    <BsCaretRightFill className=\" md:inline hidden mr-4 text-purple-500\" />\r\n    <span className=\"md:mt-0 mt-2 font-bold text-gray-500\">{name}:</span>{\" \"}\r\n    {value}\r\n  </p>\r\n);\r\n\r\nexport default Card;\r\n","export const Button = (props: any) => (\r\n  <button\r\n    {...props}\r\n    className={\r\n      \"disabled:bg-gray-700 p-2 px-5 bg-purple-700 duration-200 hover:bg-purple-900 rounded-md \" +\r\n      props.className\r\n    }\r\n  >\r\n    {props.children}\r\n  </button>\r\n);\r\n","import { FiArrowUp } from \"react-icons/fi\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Button } from \"./Button\";\r\n\r\nexport const ScrollToTop = () => {\r\n  const [show, setShow] = useState(false);\r\n  useEffect(() => {\r\n    const scrollListener = () => {\r\n      if (window.scrollY >= 100) {\r\n        setShow(true);\r\n      } else {\r\n        setShow(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"scroll\", scrollListener);\r\n\r\n    return () => document.removeEventListener(\"scroll\", scrollListener);\r\n  }, [setShow]);\r\n\r\n  return (\r\n    <Button\r\n      onClick={() => window.scrollTo({ top: 0, behavior: \"smooth\" })}\r\n      className=\"bottom-10 right-5 fixed p-4 text-white duration-200 bg-purple-700 rounded-md\"\r\n      style={\r\n        show\r\n          ? { visibility: \"visible\", opacity: 1 }\r\n          : { visibility: \"hidden\", opacity: 0 }\r\n      }\r\n    >\r\n      <FiArrowUp color=\"white\" />\r\n    </Button>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { ScrollToTop } from \"./ScrollToTop\";\r\n\r\nexport const Layout: React.FC = ({ children }) => (\r\n  <>\r\n    <NavBar />\r\n    <div className=\"min-h-.8screen px-5\">{children}</div>\r\n    <ScrollToTop />\r\n    <Footer />\r\n  </>\r\n);\r\nconst Footer = () => (\r\n  <p className=\"md:px-10 md:text-left py-5 mt-16 text-lg font-light text-center text-white bg-gray-900\">\r\n    Made with 💖 by{\" \"}\r\n    <a\r\n      className=\"hover:text-purple-500 hover:shadow-lg ring-purple-300 font-bold text-purple-700\"\r\n      href=\"http://github.com/daviesesiro\"\r\n      target=\"_blank\"\r\n      rel=\"noopener noreferrer\"\r\n    >\r\n      Davies Ojurere\r\n    </a>{\" \"}\r\n    ~ 2020\r\n  </p>\r\n);\r\nconst NavBar = () => {\r\n  return (\r\n    <header className=\"p-3 bg-purple-900\">\r\n      <h1 className=\"text-2xl font-bold text-center text-white\">\r\n        Enye Challenge Phase 1\r\n      </h1>\r\n    </header>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nconst SearchBar = ({\r\n  onChange,\r\n}: {\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}) => {\r\n  return (\r\n    <div className=\"flex justify-center mt-5\">\r\n      <input\r\n        onChange={onChange}\r\n        className=\"focus:ring-2 ring-opacity-50 focus:w-80 w-60 focus:border-transparent ring-purple-700 focus:outline-none inline-block p-2 duration-300 border border-gray-400 rounded-md\"\r\n        type=\"search\"\r\n        placeholder=\"Search Patient...\"\r\n        name=\"patient-name\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\n\r\nexport const CheckBox: React.FC<{\r\n  label: string;\r\n  className: string;\r\n  value?: any;\r\n  id: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}> = ({ label, id, className, onChange, value }) => (\r\n  <div className={\"inline \" + className}>\r\n    <input\r\n      onChange={onChange}\r\n      className=\"w-5 h-5 align-middle\"\r\n      type=\"checkbox\"\r\n      id={id}\r\n      name={label}\r\n      value={value}\r\n    />\r\n    <label htmlFor={id} className=\"ml-2 align-middle\">\r\n      {label}\r\n    </label>\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport { Button } from \"./Button\";\r\nimport { Profile } from \"../types\";\r\n\r\nexport const PaginationButtons: React.FC<{\r\n  data: { hasMore: boolean; data: Profile[] };\r\n  cursor: number;\r\n  setCursor: any;\r\n  icr: (amount: number) => void;\r\n  dcr: (amount: number) => void;\r\n}> = ({ cursor, icr, dcr, data }) => {\r\n  return (\r\n    <div className=\" container mx-auto mt-10 text-center text-white\">\r\n      <Button className=\"mr-4\" disabled={cursor <= 0} onClick={icr}>\r\n        Back\r\n      </Button>\r\n      <Button disabled={!data.hasMore} onClick={dcr}>\r\n        Next\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n","import Fuse from \"fuse.js\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Card from \"./components/Card\";\nimport { useFetchProfiles } from \"./utils/useFetchProfiles\";\nimport { RiLoader4Fill } from \"react-icons/ri\";\nimport { Profile, response } from \"./types\";\nimport { Layout } from \"./components/Layout\";\nimport SearchBar from \"./components/SearchBar\";\nimport { CheckBox } from \"./components/CheckBox\";\nimport { PaginationButtons } from \"./components/PaginationButtons\";\nimport { paginate } from \"./utils/paginate\";\n\nconst App = () => {\n  const { data, isFetching, error } = useFetchProfiles();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [cursor, setCursor] = useState(0);\n  const [filter, setFilter] = useState<{\n    genders: string[];\n    paymentMethod: string;\n  }>({\n    genders: [],\n    paymentMethod: \"\",\n  });\n\n  const [paginated, setPaginated] = useState<{\n    hasMore: boolean;\n    data: Profile[];\n  }>({ data: [], hasMore: false });\n\n  const nextPage = () => setCursor((old) => old - 20);\n  const prevPage = () => setCursor((old) => old + 20);\n\n  useEffect(() => {\n    //reset cursor during a search or filter\n    setCursor(0);\n  }, [searchQuery, filter, setCursor]);\n\n  useEffect(() => {\n    if (!data) return;\n\n    let searchedProfiles: Profile[] = [];\n\n    if (searchQuery === \"\") {\n      searchedProfiles = data.records.profiles;\n    } else {\n      searchedProfiles = new Fuse<Profile>([...data.records.profiles], {\n        keys: [\"FirstName\", \"LastName\"],\n        threshold: 0,\n      })\n        .search(searchQuery)\n        .map((p) => p.item); //get only the items\n    }\n\n    //filter with gender\n    if (filter.genders.length > 0)\n      searchedProfiles = searchedProfiles.filter((d) =>\n        filter.genders.includes(d.Gender.toLowerCase())\n      );\n\n    //filter with payment method\n    if (![\"Choose an Option\", \"\"].includes(filter.paymentMethod)) {\n      searchedProfiles = searchedProfiles.filter(\n        (d) => d.PaymentMethod === filter.paymentMethod\n      );\n    }\n    setPaginated(\n      paginate(\n        { ...data, records: { profiles: searchedProfiles } } as response,\n        cursor\n      )\n    );\n  }, [data, cursor, setPaginated, searchQuery, filter]);\n\n  const handleCheckBoxChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.toLowerCase();\n    setFilter((old) => {\n      let genders = old.genders;\n\n      if (genders.includes(value))\n        genders = genders.filter((gender) => gender !== value);\n      else genders.push(value);\n\n      return {\n        ...old,\n        genders,\n      };\n    });\n  };\n\n  const handleDropdownChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    setFilter((old) => ({ ...old, paymentMethod: e.target.value }));\n  };\n\n  return (\n    <Layout>\n      <SearchBar onChange={(e) => setSearchQuery(e.target.value)} />\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"mt-2\">\n          <span className=\"md:inline block mr-5 text-gray-600\">Gender:</span>\n          <CheckBox\n            value=\"Male\"\n            id=\"male\"\n            onChange={handleCheckBoxChange}\n            label=\"Male\"\n            className=\"mr-3\"\n          />\n          <CheckBox\n            value=\"Female\"\n            id=\"female\"\n            onChange={handleCheckBoxChange}\n            label=\"Female\"\n            className=\"mr-3\"\n          />\n          <CheckBox\n            value=\"Prefer to Skip\"\n            id=\"prefer-to-skip\"\n            onChange={handleCheckBoxChange}\n            label=\"Prefer to Skip\"\n            className=\"mr-3\"\n          />\n        </div>\n\n        <div className=\"flex items-center mt-2\">\n          <span className=\"mr-2 text-gray-600\">Payment Method:</span>\n          <select\n            defaultValue=\"Choose an Option\"\n            defaultChecked={true}\n            onChange={handleDropdownChange}\n            name=\"payment-method\"\n            className=\"px-3 py-1\"\n            id=\"payment-method\"\n          >\n            <option>Choose an Option</option>\n            <option value=\"cc\">Credit Card </option>\n            <option value=\"money order\">Money Order</option>\n            <option value=\"paypal\">Paypal</option>\n            <option value=\"check\">Check</option>\n          </select>\n        </div>\n      </div>\n      {isFetching ? (\n        <div className=\"flex items-center justify-center min-h-.8screen text-white\">\n          <RiLoader4Fill color=\"black\" size={50} className=\"animate-spin\" />\n        </div>\n      ) : (\n        <>\n          <div className=\"2xl:grid-cols-flexible-xl md:px-10 grid-cols-flexible place-content-center gap-x-16 gap-y-14 grid items-start mx-auto mt-10\">\n            {paginated.data.map((profile) => (\n              <Card key={profile.CreditCardNumber} profile={profile} />\n            ))}\n          </div>\n          <PaginationButtons\n            cursor={cursor}\n            setCursor={setCursor}\n            data={paginated}\n            icr={nextPage}\n            dcr={prevPage}\n          />\n        </>\n      )}\n    </Layout>\n  );\n};\n\nexport default App;\n","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { response } from \"../types\";\r\n\r\ntype state = {\r\n  isFetching: boolean;\r\n  data?: response;\r\n  error?: any;\r\n};\r\n\r\nexport const useFetchProfiles = () => {\r\n  const [state, setState] = useState<state>({\r\n    isFetching: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchProfiles = async () => {\r\n      try {\r\n        const res = await axios.get<response>(\r\n          \"https://api.enye.tech/v1/challenge/records\"\r\n        );\r\n\r\n        setState((old) => ({ ...old, data: res.data, isFetching: false }));\r\n      } catch (error) {\r\n        console.log(error);\r\n        setState((old) => ({ ...old, error, isFetching: false }));\r\n      }\r\n    };\r\n\r\n    fetchProfiles();\r\n  }, [setState]);\r\n\r\n  return { ...state };\r\n};\r\n","import { response } from \"../types\";\r\n\r\nexport const paginate = (res: response, cursor: number = 0) => {\r\n  cursor = Math.min(cursor, res.size);\r\n  const take = Math.min(cursor + 20 + 1, res.size);\r\n\r\n  const dataPlusOne = res.records.profiles.slice(cursor, take);\r\n  const data = dataPlusOne.slice(0, 20);\r\n  const hasMore = data.length === 20;\r\n\r\n  return { data, hasMore };\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { createContext } from \"react\";\r\nimport { useFetchProfiles } from \"../utils/useFetchProfiles\";\r\nimport { response } from \"../types\";\r\n\r\nconst AppContext = createContext<{\r\n  isFetching?: boolean;\r\n  data?: response | undefined;\r\n  error?: any;\r\n}>({ isFetching: true });\r\n\r\nexport const AppContextProvider: React.FC = ({ children }) => {\r\n  //   const { data, isFetching, error } = useFetchProfiles();\r\n  return (\r\n    //   <AppContext.Provider value={{ data, isFetching, error }}>\r\n    <AppContext.Provider value={{}}>{children}</AppContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAppContext = () => useContext(AppContext);\r\n","import React from \"react\";\n\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AppContextProvider } from \"./context/AppContext\";\n\nimport \"./styles/main.css\";\n\nReactDOM.render(\n  <AppContextProvider>\n    <App />\n  </AppContextProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}