(this["webpackJsonpphase-1"]=this["webpackJsonpphase-1"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(2),c=n(20),s=n.n(c),i=n(3),l=n(5),o={cc:"Credit Card","money order":"Money Order",paypal:"Paypay",check:"Check"},u=n(9),d=function(e,t){var n=.5*window.innerWidth,r=.5*window.innerHeight,a=.5*e.clientWidth,c=.5*e.clientHeight,s=n-e.offsetLeft-a,i=r-(e.offsetTop-document.scrollingElement.scrollTop)-c;e.style.transition=".5s ",e.style.transform="translate(".concat(s,"px, ").concat(i,"px)"),t&&t(i),setTimeout((function(){e.style.transition=".3s"}),100)},j=function(e){var t=e.name,n=e.value;return Object(r.jsxs)("p",{className:"sm:block flex flex-col items-center",children:[Object(r.jsx)(u.b,{className:" sm:inline hidden mr-4 text-purple-500"}),Object(r.jsxs)("span",{className:"sm:mt-0 mt-2 font-bold text-gray-500",children:[t,":"]})," ",n]})},m=function(e){var t=e.profile,n=Object(a.useState)(!1),c=Object(l.a)(n,2),s=c[0],i=c[1],m=Object(a.useRef)(null),b=function(e){Math.abs(e)>400&&i(!1)};return Object(a.useEffect)((function(){var e=function(){d(m.current,b)};return s?(d(m.current),window.addEventListener("scroll",e)):m.current.style.transform="translate(0)",function(){return window.removeEventListener("scroll",e)}}),[s]),Object(r.jsxs)(r.Fragment,{children:[s&&Object(r.jsx)("button",{onClick:function(){return i(!1)},className:"fixed inset-0 z-40 w-screen bg-black opacity-50"}),Object(r.jsxs)("div",{ref:m,className:"".concat(s?"z-50 sm:w-max relative max-h-card h-.8screen sm:h-auto overflow-y-auto sm:overflow-y-auto":"","  group card"),children:[s&&Object(r.jsx)("button",{className:"top-5 left-5 absolute",onClick:function(){return i(!1)},children:Object(r.jsx)(u.c,{size:30,className:"text-red-700"})}),Object(r.jsx)("h1",{className:"text-xl text-center",children:"".concat(t.FirstName," ").concat(t.LastName)}),Object(r.jsxs)("div",{className:"sm:px-5 px-2 mt-8 font-light text-gray-300",children:[Object(r.jsx)(j,{value:t.Email,name:"Email"}),Object(r.jsx)(j,{value:t.Gender,name:"Gender"}),Object(r.jsx)(j,{value:o[t.PaymentMethod],name:"Payment Method"}),s&&Object.entries(t).filter((function(e){var t=Object(l.a)(e,2),n=t[0];return t[1],!["Gender","PaymentMethod","Email","FirstName","LastName"].includes(n)})).map((function(e){var n=Object(l.a)(e,2),a=n[0],c=n[1];return Object(r.jsx)(j,{value:c.toString(),name:a},t.Email+"-atr-"+a)}))]}),!s&&Object(r.jsxs)("button",{onClick:function(){return i(!0)},className:"group-hover:text-purple-50 group-hover:bg-purple-700 rounded-xs block px-2 py-1 mx-auto mt-8 text-purple-900 duration-200 bg-gray-200 rounded-sm",children:["View More ",Object(r.jsx)(u.a,{className:"inline"})]})]})]})},b=n(11),h=n.n(b),x=n(21),f=n(22),p=n.n(f),O=n(24),v=n(23),g=function(e){return Object(r.jsx)("button",Object(i.a)(Object(i.a)({},e),{},{className:"disabled:bg-gray-700 p-2 px-5 bg-purple-700 duration-200 hover:bg-purple-900 rounded-md "+e.className,children:e.children}))},y=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=function(){window.scrollY>=100?c(!0):c(!1)};return document.addEventListener("scroll",e),function(){return document.removeEventListener("scroll",e)}}),[c]),Object(r.jsx)(g,{onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},className:"bottom-10 right-5 fixed p-4 text-white duration-200 bg-purple-700 rounded-md",style:n?{visibility:"visible",opacity:1}:{visibility:"hidden",opacity:0},children:Object(r.jsx)(v.a,{color:"white"})})},N=function(e){var t=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(C,{}),Object(r.jsx)("div",{className:"min-h-.8screen px-5",children:t}),Object(r.jsx)(y,{}),Object(r.jsx)(w,{})]})},w=function(){return Object(r.jsxs)("p",{className:"md:px-10 md:text-left py-5 mt-16 text-lg font-light text-center text-white bg-gray-900",children:["Made with \ud83d\udc96 by"," ",Object(r.jsx)("a",{className:"hover:text-purple-500 hover:shadow-lg ring-purple-300 font-bold text-purple-700",href:"http://github.com/daviesesiro",target:"_blank",rel:"noopener noreferrer",children:"Davies Ojurere"})," ","~ 2021"]})},C=function(){return Object(r.jsx)("header",{className:"p-3 bg-purple-900",children:Object(r.jsx)("h1",{className:"text-2xl font-bold text-center text-white",children:"Enye Challenge Phase 1"})})},k=function(e){var t=e.onChange;return Object(r.jsx)("div",{className:"flex justify-center mt-5",children:Object(r.jsx)("input",{onChange:t,className:"focus:ring-2 ring-opacity-50 focus:w-80 w-60 focus:border-transparent ring-purple-700 focus:outline-none inline-block p-2 duration-300 border border-gray-400 rounded-md",type:"search",placeholder:"Search Patient...",name:"patient-name"})})},M=function(e){var t=e.label,n=e.id,a=e.className,c=e.onChange,s=e.value;return Object(r.jsxs)("div",{className:"inline "+a,children:[Object(r.jsx)("input",{onChange:c,className:"w-5 h-5 align-middle",type:"checkbox",id:n,name:t,value:s}),Object(r.jsx)("label",{htmlFor:n,className:"ml-2 align-middle",children:t})]})},E=function(e){var t=e.handleCheckBoxChange;return Object(r.jsx)("div",{children:[{label:"Male",value:"Male",id:"male"},{label:"Male",value:"Male",id:"male"},{label:"Female",value:"Female",id:"female"}].map((function(e,n){return Object(r.jsx)(M,{value:e.value,id:e.id,onChange:t,label:e.label,className:"mr-3"},"checkbox-"+n)}))})},F=function(e){var t=e.cursor,n=e.icr,a=e.dcr,c=e.data;return Object(r.jsxs)("div",{className:" container mx-auto mt-10 text-center text-white",children:[Object(r.jsx)(g,{className:"mr-4",disabled:t<=0,onClick:n,children:"Back"}),Object(r.jsx)(g,{disabled:!c.hasMore,onClick:a,children:"Next"})]})},L=function(e){var t=e.handleChange;return Object(r.jsxs)("select",{defaultValue:"Choose an Option",defaultChecked:!0,onChange:t,name:"payment-method",className:"focus:ring-2 focus:outline-none ring-opacity-50 ring-purple-700 px-4 py-1 mt-1 border border-gray-400 rounded-md",id:"payment-method",children:[Object(r.jsx)("option",{children:"Choose an Option"}),Object(r.jsx)("option",{value:"cc",children:"Credit Card "}),Object(r.jsx)("option",{value:"money order",children:"Money Order"}),Object(r.jsx)("option",{value:"paypal",children:"Paypal"}),Object(r.jsx)("option",{value:"check",children:"Check"})]})},S=n(25);var P=function(){var e=function(){var e=Object(a.useState)({isFetching:!0}),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){!function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("https://api.enye.tech/v1/challenge/records");case 3:t=e.sent,r((function(e){return Object(i.a)(Object(i.a)({},e),{},{data:t.data,isFetching:!1})})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response),r((function(t){return Object(i.a)(Object(i.a)({},t),{},{error:e.t0,isFetching:!1})}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[r]),Object(i.a)({},n)}(),t=e.data,n=e.isFetching,c=e.error,s=Object(a.useState)(""),o=Object(l.a)(s,2),u=o[0],d=o[1],j=Object(a.useState)(0),b=Object(l.a)(j,2),f=b[0],v=b[1],g=Object(a.useState)({genders:[],paymentMethod:""}),y=Object(l.a)(g,2),w=y[0],C=y[1],M=Object(a.useState)({data:[],hasMore:!1}),P=Object(l.a)(M,2),z=P[0],G=P[1];Object(a.useEffect)((function(){v(0)}),[u,w,v]),Object(a.useEffect)((function(){if(t){var e=function(e,t,n){var r=[];return r=""===e?t.records.profiles:new S.a(t.records.profiles,{keys:["FirstName","LastName"],threshold:.3,shouldSort:!0}).search({$or:[{FirstName:e},{LastName:e}]}).map((function(e){return e.item})),n.genders.length>0&&(r=r.filter((function(e){return n.genders.includes(e.Gender.toLowerCase())}))),["Choose an Option",""].includes(n.paymentMethod)||(r=r.filter((function(e){return e.PaymentMethod===n.paymentMethod}))),r}(u,t,w);G(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.min(t,e.size);var n=Math.min(t+20+1,e.size),r=e.records.profiles.slice(t,n).slice(0,20),a=20===r.length;return{data:r,hasMore:a}}(Object(i.a)(Object(i.a)({},t),{},{records:{profiles:e}}),f))}}),[t,f,G,u,w]);return Object(r.jsxs)(N,{children:[Object(r.jsx)(k,{onChange:function(e){return d(e.target.value)}}),Object(r.jsxs)("div",{className:"max-w-md mx-auto",children:[Object(r.jsxs)("div",{className:"sm:flex-row flex flex-col items-center mt-2",children:[Object(r.jsx)("span",{className:"md:inline block mr-5 text-gray-600",children:"Gender:"}),Object(r.jsx)(E,{handleCheckBoxChange:function(e){var t=e.target.value.toLowerCase();C((function(e){var n=e.genders;return n.includes(t)?n=n.filter((function(e){return e!==t})):n.push(t),Object(i.a)(Object(i.a)({},e),{},{genders:n})}))}})]}),Object(r.jsxs)("div",{className:"sm:flex-row flex flex-col items-center mt-2",children:[Object(r.jsx)("span",{className:"mr-2 text-gray-600",children:"Payment Method:"}),Object(r.jsx)(L,{handleChange:function(e){C((function(t){return Object(i.a)(Object(i.a)({},t),{},{paymentMethod:e.target.value})}))}})]})]}),c&&Object(r.jsx)("div",{className:"flex items-center justify-center h-64",children:Object(r.jsx)("h1",{className:"text-4xl font-bold text-red-600",children:null===c||void 0===c?void 0:c.message})}),n?Object(r.jsx)("div",{className:"flex items-center justify-center min-h-.8screen text-white",children:Object(r.jsx)(O.a,{color:"black",size:50,className:"animate-spin"})}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"2xl:grid-cols-flexible-xl md:px-10 grid-cols-flexible place-content-center gap-x-16 gap-y-14 grid items-start mx-auto mt-10",children:z.data.map((function(e){return Object(r.jsx)(m,{profile:e},e.Email)}))}),Object(r.jsx)(F,{cursor:f,setCursor:v,data:z,icr:function(){return v((function(e){return e-20}))},dcr:function(){return v((function(e){return e+20}))}})]})]})};n(50);s.a.render(Object(r.jsx)(P,{}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.657793ef.chunk.js.map