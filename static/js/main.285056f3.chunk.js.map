{"version":3,"sources":["components/Button.tsx","components/ScrollToTop.tsx","components/Layout.tsx","components/SearchBar.tsx","components/CheckBox.tsx","components/PaginationButtons.tsx","components/Dropdown.tsx","types.ts","utils/centerCard.ts","components/CardAttribute.tsx","components/Card.tsx","components/CardList.tsx","App.tsx","utils/useFetchProfiles.ts","utils/filterProfiles.ts","utils/paginate.ts","index.tsx"],"names":["Button","type","otherProps","isPrimary","className","children","ScrollToTop","useState","show","setShow","useEffect","scrollListener","window","scrollY","document","addEventListener","removeEventListener","onClick","scrollTo","top","behavior","style","visibility","opacity","color","Layout","Footer","href","target","rel","NavBar","SearchBar","onChange","placeholder","name","CheckBox","label","id","value","htmlFor","CheckBoxes","handleCheckBoxChange","map","data","idx","PaginationButtons","cursor","nextPage","prevPage","scroll","pageNumber","handleClick","cb","getElementById","offsetTop","disabled","hasMore","Dropdown","handleChange","defaultValue","defaultChecked","PaymentMethodMap","cc","paypal","check","centerCard","card","halfWWidth","innerWidth","halfWHeight","innerHeight","halfCWidth","clientWidth","halfCHeight","clientHeight","X","offsetLeft","Y","scrollingElement","scrollTop","transform","Attribute","Date","toDateString","body","CardHead","title","HR","height","Card","profile","cardRef","useRef","closeCard","threshold","Math","abs","scrollListenter","current","ref","size","FullName","FirstName","LastName","UserName","PhoneNumber","Email","Gender","CreditCardNumber","CreditCardType","PaymentMethod","URL","DomainName","MacAddress","Latitude","Longitude","CardList","paginatedProfiles","App","isFetching","state","setState","a","axios","get","res","records","profiles","p","old","console","log","response","error","fetchProfiles","useFetchProfiles","searchQuery","setSearchQuery","setCursor","setpageNumber","genders","paymentMethod","filter","setFilter","paginated","setPaginated","searchedProfiles","Fuse","keys","shouldSort","search","item","length","d","includes","toLowerCase","filterProfiles","min","take","slice","paginate","e","gender","push","message","ReactDOM","render"],"mappings":"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","file":"static/js/main.285056f3.chunk.js","sourcesContent":["export const Button = ({\r\n  type = \"primary\",\r\n  ...otherProps\r\n}: {\r\n  type: \"primary\" | \"secondary\";\r\n  [key: string]: any;\r\n}) => {\r\n  const isPrimary = type === \"primary\" ? true : false;\r\n  return (\r\n    <button\r\n      {...otherProps}\r\n      className={`${isPrimary ? \"btn-primary\" : \"btn-secondary\"} btn ${\r\n        otherProps.className\r\n      }`}\r\n    >\r\n      {otherProps.children}\r\n    </button>\r\n  );\r\n};\r\n","import { FiArrowUp } from \"react-icons/fi\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Button } from \"./Button\";\r\n\r\nexport const ScrollToTop = () => {\r\n  const [show, setShow] = useState(false);\r\n  useEffect(() => {\r\n    const scrollListener = () => {\r\n      if (window.scrollY >= 100) {\r\n        setShow(true);\r\n      } else {\r\n        setShow(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"scroll\", scrollListener);\r\n\r\n    return () => document.removeEventListener(\"scroll\", scrollListener);\r\n  }, [setShow]);\r\n\r\n  return (\r\n    <Button\r\n      type=\"primary\"\r\n      onClick={() => window.scrollTo({ top: 0, behavior: \"smooth\" })}\r\n      className=\"bottom-10 right-5 fixed p-4\"\r\n      style={\r\n        show\r\n          ? { visibility: \"visible\", opacity: 1 }\r\n          : { visibility: \"hidden\", opacity: 0 }\r\n      }\r\n    >\r\n      <FiArrowUp color=\"white\" />\r\n    </Button>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { ScrollToTop } from \"./ScrollToTop\";\r\n\r\nexport const Layout: React.FC = ({ children }) => (\r\n  <>\r\n    <NavBar />\r\n    <div className=\"min-h-.8screen px-5\">{children}</div>\r\n    <ScrollToTop />\r\n    <Footer />\r\n  </>\r\n);\r\nconst Footer = () => (\r\n  <footer className=\"footer\">\r\n    Made with 💖 by{\" \"}\r\n    <a\r\n      className=\"hover:text-purple-500 hover:shadow-lg ring-purple-300 font-bold text-purple-700\"\r\n      href=\"http://github.com/daviesesiro\"\r\n      target=\"_blank\"\r\n      rel=\"noopener noreferrer\"\r\n    >\r\n      Davies Ojurere\r\n    </a>{\" \"}\r\n    ~ 2021\r\n  </footer>\r\n);\r\nconst NavBar = () => {\r\n  return (\r\n    <header className=\"p-3 py-4 bg-purple-900\">\r\n      <h1 className=\"text-2xl font-bold text-center text-white\">\r\n        Profile Records\r\n      </h1>\r\n    </header>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nconst SearchBar = ({\r\n  onChange,\r\n}: {\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}) => {\r\n  return (\r\n    <div className=\"flex justify-center mt-5\">\r\n      <input\r\n        onChange={onChange}\r\n        className=\"search\"\r\n        type=\"search\"\r\n        placeholder=\"Search Patient...\"\r\n        name=\"patient-name\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\n\r\nconst CheckBox: React.FC<{\r\n  label: string;\r\n  className: string;\r\n  value?: any;\r\n  id: string;\r\n  onChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}> = ({ label, id, className, onChange, value }) => (\r\n  <div className={\"inline \" + className}>\r\n    <input\r\n      onChange={onChange}\r\n      className=\"w-5 h-5 align-middle\"\r\n      type=\"checkbox\"\r\n      id={id}\r\n      name={label}\r\n      value={value}\r\n    />\r\n    <label htmlFor={id} className=\"ml-2 align-middle\">\r\n      {label}\r\n    </label>\r\n  </div>\r\n);\r\n\r\nexport const CheckBoxes = ({\r\n  handleCheckBoxChange,\r\n}: {\r\n  handleCheckBoxChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\r\n}) => {\r\n  const checkboxesData = [\r\n    {\r\n      label: \"Male\",\r\n      value: \"Male\",\r\n      id: \"male\",\r\n    },\r\n    {\r\n      label: \"Female\",\r\n      value: \"Female\",\r\n      id: \"female\",\r\n    },\r\n    {\r\n      label: \"Prefer to Skip\",\r\n      value: \"Prefer to Skip\",\r\n      id: \"prefer-to-skip\",\r\n    },\r\n  ];\r\n  return (\r\n    <div>\r\n      {checkboxesData.map((data, idx) => (\r\n        <CheckBox\r\n          key={\"checkbox-\" + idx}\r\n          value={data.value}\r\n          id={data.id}\r\n          onChange={handleCheckBoxChange}\r\n          label={data.label}\r\n          className=\"mr-3\"\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Button } from \"./Button\";\r\nimport { Profile } from \"../types\";\r\n\r\nexport const PaginationButtons: React.FC<{\r\n  data: { hasMore: boolean; data: Profile[] };\r\n  cursor: number;\r\n  setCursor: any;\r\n  nextPage: (amount: number) => void;\r\n  prevPage: (amount: number) => void;\r\n  scroll?: boolean;\r\n  pageNumber: number;\r\n}> = ({ cursor, nextPage, prevPage, data, scroll, pageNumber }) => {\r\n  const handleClick = (cb: any) => {\r\n    if (scroll) {\r\n      window.scrollTo({\r\n        top: document.getElementById(\"card-list\")!.offsetTop - 50,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n    cb();\r\n  };\r\n  return (\r\n    <div className=\" container mx-auto mt-10 text-center\">\r\n      <Button\r\n        className=\"mr-4\"\r\n        type=\"primary\"\r\n        disabled={cursor <= 0}\r\n        onClick={() => handleClick(prevPage)}\r\n      >\r\n        Back\r\n      </Button>\r\n      <span className=\" mr-4\">{pageNumber}</span>\r\n      <Button\r\n        type=\"primary\"\r\n        disabled={!data.hasMore}\r\n        onClick={() => handleClick(nextPage)}\r\n      >\r\n        Next\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Dropdown = ({\r\n  handleChange,\r\n}: {\r\n  handleChange: (event: React.ChangeEvent<HTMLSelectElement>) => void;\r\n}) => {\r\n  return (\r\n    <select\r\n      defaultValue=\"All\"\r\n      defaultChecked={true}\r\n      onChange={handleChange}\r\n      name=\"payment-method\"\r\n      className=\"focus:ring-2 focus:outline-none ring-opacity-50 ring-purple-700 px-4 py-1 mt-1 border border-gray-400 rounded-md\"\r\n      id=\"payment-method\"\r\n    >\r\n      <option>All</option>\r\n      <option value=\"cc\">Credit Card </option>\r\n      <option value=\"money order\">Money Order</option>\r\n      <option value=\"paypal\">Paypal</option>\r\n      <option value=\"check\">Check</option>\r\n    </select>\r\n  );\r\n};\r\n","export interface response {\r\n  records: { profiles: Profile[] };\r\n  status: string;\r\n  size: number;\r\n}\r\n\r\nexport type Profile = {\r\n  FullName: string;\r\n  FirstName: string;\r\n  LastName: string;\r\n  Gender: string;\r\n  Latitude: number;\r\n  Longitude: number;\r\n  CreditCardNumber: string;\r\n  CreditCardType: string;\r\n  Email: string;\r\n  DomainName: string;\r\n  PhoneNumber: string;\r\n  MacAddress: string;\r\n  URL: string;\r\n  UserName: string;\r\n  LastLogin: string;\r\n  PaymentMethod: string;\r\n};\r\n\r\nexport type Filter = {\r\n  genders: string[];\r\n  paymentMethod: string;\r\n};\r\n\r\nexport type PaginatedData = {\r\n  hasMore: boolean;\r\n  data: Profile[];\r\n};\r\n\r\nexport const PaymentMethodMap: { [key: string]: string } = {\r\n  cc: \"Credit Card\",\r\n  \"money order\": \"Money Order\",\r\n  paypal: \"Paypay\",\r\n  check: \"Check\",\r\n};\r\n","export const centerCard = (\r\n  card: HTMLDivElement,\r\n  cb?: (threshold: number) => void\r\n) => {\r\n  const halfWWidth = window.innerWidth * 0.5;\r\n  const halfWHeight = window.innerHeight * 0.5;\r\n\r\n  const halfCWidth = card.clientWidth * 0.5;\r\n  const halfCHeight = card.clientHeight * 0.5;\r\n  const cOffLeft = card.offsetLeft;\r\n  // relative to the current viewport\r\n  const cOffTop = card.offsetTop - document.scrollingElement!.scrollTop;\r\n\r\n  const X = halfWWidth - cOffLeft - halfCWidth;\r\n  const Y = halfWHeight - cOffTop - halfCHeight;\r\n\r\n  // card.style.zIndex = \"50\";\r\n  card.style.transform = `translate(${X}px, ${Y}px)`;\r\n\r\n  if (cb) {\r\n    cb(Y);\r\n  }\r\n};\r\n","export const Attribute = ({\r\n  name,\r\n  value,\r\n}: {\r\n  name: string;\r\n  value: string | number;\r\n}) => {\r\n  value = name === \"LastLogin\" ? new Date(value).toDateString() : value;\r\n  let body =\r\n    name === \"URL\" || name === \"Domain Name\" ? (\r\n      <a\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n        className=\"font-bold text-purple-600\"\r\n        href={value as string}\r\n      >\r\n        {value}\r\n      </a>\r\n    ) : (\r\n      <span>{value}</span>\r\n    );\r\n\r\n  return (\r\n    <div className=\"sm:block sm:py-1 flex flex-col items-center\">\r\n      <span className=\"sm:w-40 sm:mt-0 inline-block mt-2 text-gray-500\">\r\n        {name}:\r\n      </span>\r\n      {body}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { PaymentMethodMap, Profile } from \"../types\";\r\nimport { BsX, BsArrowRight } from \"react-icons/bs\";\r\nimport { centerCard } from \"../utils/centerCard\";\r\nimport { Attribute } from \"./CardAttribute\";\r\nimport { Button } from \"./Button\";\r\n\r\nconst Card: React.FC<{ profile: Profile }> = ({ profile }) => {\r\n  const [show, setShow] = useState(false);\r\n  const cardRef = useRef<HTMLDivElement>(null);\r\n\r\n  const closeCard = (threshold: number) => {\r\n    if (Math.abs(threshold) > 400) setShow(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const scrollListenter = () => {\r\n      centerCard(cardRef.current as HTMLDivElement, closeCard);\r\n    };\r\n    if (show) {\r\n      centerCard(cardRef.current as HTMLDivElement);\r\n      window.addEventListener(\"scroll\", scrollListenter);\r\n    } else {\r\n      cardRef.current!.style.transform = \"translate(0)\";\r\n    }\r\n\r\n    return () => window.removeEventListener(\"scroll\", scrollListenter);\r\n  }, [show]);\r\n\r\n  return (\r\n    <>\r\n      {show && (\r\n        <button\r\n          onClick={() => setShow(false)}\r\n          className=\"opacity-60 fixed inset-0 z-40 w-screen bg-black\"\r\n        ></button>\r\n      )}\r\n      <div\r\n        ref={cardRef}\r\n        className={`${\r\n          show\r\n            ? \"show bg-black overflow-y-auto h-.9screen max-h-card sm:w-card sm:hover:bg-gray-900 z-50\"\r\n            : \"\"\r\n        } group card`}\r\n      >\r\n        {show && (\r\n          <button\r\n            className=\"top-5 left-5 absolute\"\r\n            onClick={() => setShow(false)}\r\n          >\r\n            <BsX size={30} className=\"text-red-700\" />\r\n          </button>\r\n        )}\r\n        <h1 className=\"text-xl text-center\">{profile.FullName}</h1>\r\n        <div className=\"sm:px-5 px-2 mt-8 font-light text-gray-300\">\r\n          {show ? (\r\n            <>\r\n              <div className=\"mb-5\">\r\n                <CardHead title=\"Basic Info\" />\r\n                <Attribute value={profile.FirstName} name=\"First name\" />\r\n                <Attribute value={profile.LastName} name=\"Last name\" />\r\n                <Attribute value={profile.UserName} name=\"Username\" />\r\n                <Attribute value={profile.PhoneNumber} name=\"Phone number\" />\r\n                <Attribute value={profile.Email} name=\"Email\" />\r\n                <Attribute value={profile.Gender} name=\"Gender\" />\r\n              </div>\r\n              <HR />\r\n              <div className=\"mt-5 mb-5\">\r\n                <CardHead title=\"Payment Info\" />\r\n                <Attribute\r\n                  value={profile.CreditCardNumber}\r\n                  name=\"Credit card no\"\r\n                />\r\n                <Attribute\r\n                  value={profile.CreditCardType}\r\n                  name=\"Credit Card Type\"\r\n                />\r\n                <Attribute\r\n                  value={PaymentMethodMap[profile.PaymentMethod]}\r\n                  name=\"Payment Method\"\r\n                />\r\n              </div>\r\n              <HR />\r\n\r\n              <div className=\"mt-5 mb-5\">\r\n                <CardHead title=\"Links\" />\r\n                <Attribute value={profile.URL} name=\"URL\" />\r\n                <Attribute value={profile.DomainName} name=\"Domain Name\" />\r\n              </div>\r\n              <HR />\r\n\r\n              <div className=\"mt-5\">\r\n                <CardHead title=\"Location\" />\r\n                <Attribute value={profile.MacAddress} name=\"MAC Dddress\" />\r\n                <Attribute value={profile.Latitude} name=\"Latitude\" />\r\n                <Attribute value={profile.Longitude} name=\"Longitude\" />\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Attribute value={profile.Email} name={\"Email\"} />\r\n              <Attribute value={profile.Gender} name={\"Gender\"} />\r\n              <Attribute\r\n                value={PaymentMethodMap[profile.PaymentMethod]}\r\n                name={\"Payment Method\"}\r\n              />\r\n            </>\r\n          )}\r\n        </div>\r\n        {!show && (\r\n          <Button\r\n            type=\"secondary\"\r\n            onClick={() => setShow(true)}\r\n            className=\"group-hover:text-purple-50 group-hover:bg-purple-700 block mx-auto mt-8\"\r\n          >\r\n            View More <BsArrowRight className=\"inline\" />\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst CardHead = ({ title }: { title: string }) => {\r\n  return <div className=\"mb-3 text-lg font-bold text-center\">{title}</div>;\r\n};\r\n\r\nconst HR = () => <div style={{ height: 1 }} className=\"bg-gray-700\" />;\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { PaginatedData } from \"../types\";\r\n\r\nexport const CardList = ({\r\n  paginatedProfiles,\r\n}: {\r\n  paginatedProfiles: PaginatedData;\r\n}) => {\r\n  return (\r\n    <div id=\"card-list\" className=\"card-list mt-10\">\r\n      {paginatedProfiles.data.map((profile) => (\r\n        <Card key={profile.Email} profile={profile} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useFetchProfiles } from \"./utils/useFetchProfiles\";\nimport { RiLoader4Fill } from \"react-icons/ri\";\nimport { Filter, PaginatedData, Profile, response } from \"./types\";\nimport { Layout } from \"./components/Layout\";\nimport SearchBar from \"./components/SearchBar\";\nimport { CheckBoxes } from \"./components/CheckBox\";\nimport { PaginationButtons } from \"./components/PaginationButtons\";\nimport { paginate } from \"./utils/paginate\";\nimport { Dropdown } from \"./components/Dropdown\";\nimport { filterProfiles } from \"./utils/filterProfiles\";\nimport { CardList } from \"./components/CardList\";\n\nconst App = () => {\n  const { data, isFetching, error } = useFetchProfiles();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [cursor, setCursor] = useState(0);\n  const [pageNumber, setpageNumber] = useState(1);\n  const [filter, setFilter] = useState<Filter>({\n    genders: [],\n    paymentMethod: \"\",\n  });\n\n  const [paginated, setPaginated] = useState<PaginatedData>({\n    data: [],\n    hasMore: false,\n  });\n\n  const prevPage = () => {\n    setpageNumber((old) => old - 1);\n    setCursor((old) => old - 20);\n  };\n  const nextPage = () => {\n    setpageNumber((old) => old + 1);\n    setCursor((old) => old + 20);\n  };\n\n  useEffect(() => {\n    //reset cursor and pageNumber during a search or filter\n    setCursor(0);\n    setpageNumber(1);\n  }, [searchQuery, filter, setCursor]);\n\n  useEffect(() => {\n    if (!data) return;\n\n    let profiles: Profile[] = filterProfiles(searchQuery, data, filter);\n    setPaginated(\n      paginate({ ...data, records: { profiles } } as response, cursor)\n    );\n  }, [data, cursor, setPaginated, searchQuery, filter]);\n\n  const handleCheckBoxChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.toLowerCase();\n    setFilter((old) => {\n      let genders = old.genders;\n\n      if (genders.includes(value))\n        genders = genders.filter((gender) => gender !== value);\n      else genders.push(value);\n\n      return {\n        ...old,\n        genders,\n      };\n    });\n  };\n\n  const handleDropdownChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    setFilter((old) => ({ ...old, paymentMethod: e.target.value }));\n  };\n\n  return (\n    <Layout>\n      <SearchBar onChange={(e) => setSearchQuery(e.target.value)} />\n\n      <div className=\"max-w-md px-3 py-5 mx-auto my-5 bg-white border-2 border-purple-700 border-opacity-50 rounded-md shadow-md\">\n        <p className=\"text-lg\">Filters</p>\n        <div className=\" flex flex-col mt-2\">\n          <span className=\"block mr-5 text-gray-600\">Gender:</span>\n          <CheckBoxes handleCheckBoxChange={handleCheckBoxChange} />\n        </div>\n\n        <div className=\"flex flex-col mt-2\">\n          <span className=\"mr-2 text-gray-600\">Payment Method:</span>\n          <Dropdown handleChange={handleDropdownChange} />\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"flex items-center justify-center h-64\">\n          <h1 className=\"text-4xl font-bold text-red-600\">{error?.message}</h1>\n        </div>\n      )}\n      {isFetching ? (\n        <div className=\"flex items-center justify-center min-h-.8screen text-white\">\n          <RiLoader4Fill color=\"black\" size={50} className=\"animate-spin\" />\n        </div>\n      ) : (\n        <>\n          <PaginationButtons\n            cursor={cursor}\n            setCursor={setCursor}\n            data={paginated}\n            nextPage={nextPage}\n            prevPage={prevPage}\n            pageNumber={pageNumber}\n          />\n          <CardList paginatedProfiles={paginated} />\n          <PaginationButtons\n            cursor={cursor}\n            setCursor={setCursor}\n            data={paginated}\n            nextPage={nextPage}\n            prevPage={prevPage}\n            scroll\n            pageNumber={pageNumber}\n          />\n        </>\n      )}\n    </Layout>\n  );\n};\n\nexport default App;\n","import axios, { AxiosError } from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { response } from \"../types\";\r\n\r\ntype state = {\r\n  isFetching: boolean;\r\n  data?: response;\r\n  error?: AxiosError;\r\n};\r\n\r\nexport const useFetchProfiles = () => {\r\n  const [state, setState] = useState<state>({\r\n    isFetching: true,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchProfiles = async () => {\r\n      try {\r\n        const res = await axios.get<response>(\r\n          \"https://api.enye.tech/v1/challenge/records\"\r\n        );\r\n\r\n        res.data.records.profiles = res.data.records.profiles.map((p) => ({\r\n          ...p,\r\n          FullName: `${p.FirstName} ${p.LastName}`,\r\n        }));\r\n\r\n        setState((old) => ({ ...old, data: res.data, isFetching: false }));\r\n      } catch (error) {\r\n        console.log(error.response);\r\n        setState((old) => ({ ...old, error, isFetching: false }));\r\n      }\r\n    };\r\n\r\n    fetchProfiles();\r\n  }, [setState]);\r\n\r\n  return { ...state };\r\n};\r\n","import Fuse from \"fuse.js\";\r\nimport { Profile, response } from \"../types\";\r\n\r\nexport function filterProfiles(\r\n  searchQuery: string,\r\n  data: response,\r\n  filter: { genders: string[]; paymentMethod: string }\r\n) {\r\n  let searchedProfiles: Profile[] = [];\r\n\r\n  if (searchQuery === \"\") {\r\n    searchedProfiles = data.records.profiles;\r\n  } else {\r\n    searchedProfiles = new Fuse<Profile>(data.records.profiles, {\r\n      keys: [\"FullName\"],\r\n      threshold: 0.4,\r\n      shouldSort: true,\r\n    })\r\n      .search(searchQuery)\r\n      .map((p) => p.item); //get only the items\r\n  }\r\n\r\n  //filter with gender\r\n  if (filter.genders.length > 0)\r\n    searchedProfiles = searchedProfiles.filter((d) =>\r\n      filter.genders.includes(d.Gender.toLowerCase())\r\n    );\r\n\r\n  //filter with payment method\r\n  if (![\"All\", \"\"].includes(filter.paymentMethod)) {\r\n    searchedProfiles = searchedProfiles.filter(\r\n      (d) => d.PaymentMethod === filter.paymentMethod\r\n    );\r\n  }\r\n  return searchedProfiles;\r\n}\r\n","import { response } from \"../types\";\r\n\r\nexport const paginate = (res: response, cursor: number = 0) => {\r\n  cursor = Math.min(cursor, res.size);\r\n  const take = Math.min(cursor + 20 + 1, res.size);\r\n\r\n  const dataPlusOne = res.records.profiles.slice(cursor, take);\r\n  const data = dataPlusOne.slice(0, 20);\r\n  const hasMore = data.length === 20;\r\n\r\n  return { data, hasMore };\r\n};\r\n","import React from \"react\";\n\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"./styles/main.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}