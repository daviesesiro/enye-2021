(this["webpackJsonpphase-1"]=this["webpackJsonpphase-1"]||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(2),c=n(20),s=n.n(c),i=n(3),l=n(5),o=n(10),d=n.n(o),j=n(21),u=n(22),m=n.n(u),b=n(24),h=n(23),x=n(26),f=function(e){var t=e.type,n=void 0===t?"primary":t,r=Object(x.a)(e,["type"]),c="primary"===n;return Object(a.jsx)("button",Object(i.a)(Object(i.a)({},r),{},{className:"".concat(c?"btn-primary":"btn-secondary"," btn ").concat(r.className),children:r.children}))},O=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){var e=function(){window.scrollY>=100?c(!0):c(!1)};return document.addEventListener("scroll",e),function(){return document.removeEventListener("scroll",e)}}),[c]),Object(a.jsx)(f,{type:"primary",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},className:"bottom-10 right-5 fixed p-4",style:n?{visibility:"visible",opacity:1}:{visibility:"hidden",opacity:0},children:Object(a.jsx)(h.a,{color:"white"})})},p=function(e){var t=e.children;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g,{}),Object(a.jsx)("div",{className:"min-h-.8screen px-5",children:t}),Object(a.jsx)(O,{}),Object(a.jsx)(v,{})]})},v=function(){return Object(a.jsxs)("footer",{className:"footer",children:["Made with \ud83d\udc96 by"," ",Object(a.jsx)("a",{className:"hover:text-purple-500 hover:shadow-lg ring-purple-300 font-bold text-purple-700",href:"http://github.com/daviesesiro",target:"_blank",rel:"noopener noreferrer",children:"Davies Ojurere"})," ","~ 2021"]})},g=function(){return Object(a.jsx)("header",{className:"p-3 py-4 bg-purple-900",children:Object(a.jsx)("h1",{className:"text-2xl font-bold text-center text-white",children:"Profile Records"})})},y=function(e){var t=e.onChange;return Object(a.jsx)("div",{className:"flex justify-center mt-5",children:Object(a.jsx)("input",{onChange:t,className:"search",type:"search",placeholder:"Search Patient...",name:"patient-name"})})},N=function(e){var t=e.label,n=e.id,r=e.className,c=e.onChange,s=e.value;return Object(a.jsxs)("div",{className:"inline "+r,children:[Object(a.jsx)("input",{onChange:c,className:"w-5 h-5 align-middle",type:"checkbox",id:n,name:t,value:s}),Object(a.jsx)("label",{htmlFor:n,className:"ml-2 align-middle",children:t})]})},C=function(e){var t=e.handleCheckBoxChange;return Object(a.jsx)("div",{children:[{label:"Male",value:"Male",id:"male"},{label:"Female",value:"Female",id:"female"},{label:"Prefer to Skip",value:"Prefer to Skip",id:"prefer-to-skip"}].map((function(e,n){return Object(a.jsx)(N,{value:e.value,id:e.id,onChange:t,label:e.label,className:"mr-3"},"checkbox-"+n)}))})},w=function(e){var t=e.cursor,n=e.nextPage,r=e.prevPage,c=e.data,s=e.scroll,i=e.pageNumber,l=function(e){s&&window.scrollTo({top:document.getElementById("card-list").offsetTop-50,behavior:"smooth"}),e()};return Object(a.jsxs)("div",{className:" container mx-auto mt-10 text-center",children:[Object(a.jsx)(f,{className:"mr-4",type:"primary",disabled:t<=0,onClick:function(){return l(r)},children:"Back"}),Object(a.jsx)("span",{className:" mr-4",children:i}),Object(a.jsx)(f,{type:"primary",disabled:!c.hasMore,onClick:function(){return l(n)},children:"Next"})]})},k=function(e){var t=e.handleChange;return Object(a.jsxs)("select",{defaultValue:"All",defaultChecked:!0,onChange:t,name:"payment-method",className:"focus:ring-2 focus:outline-none ring-opacity-50 ring-purple-700 px-4 py-1 mt-1 border border-gray-400 rounded-md",id:"payment-method",children:[Object(a.jsx)("option",{children:"All"}),Object(a.jsx)("option",{value:"cc",children:"Credit Card "}),Object(a.jsx)("option",{value:"money order",children:"Money Order"}),Object(a.jsx)("option",{value:"paypal",children:"Paypal"}),Object(a.jsx)("option",{value:"check",children:"Check"})]})},M=n(25);var P={cc:"Credit Card","money order":"Money Order",paypal:"Paypay",check:"Check"},L=n(11),F=function(e,t){var n=.5*window.innerWidth,a=.5*window.innerHeight,r=.5*e.clientWidth,c=.5*e.clientHeight,s=n-e.offsetLeft-r,i=a-(e.offsetTop-document.scrollingElement.scrollTop)-c;e.style.transform="translate(".concat(s,"px, ").concat(i,"px)"),t&&t(i)},E=function(e){var t=e.name,n=e.value;n="LastLogin"===t?new Date(n).toDateString():n;var r="URL"===t||"Domain Name"===t?Object(a.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"font-bold text-purple-600",href:n,children:n}):Object(a.jsx)("span",{children:n});return Object(a.jsxs)("div",{className:"sm:block sm:py-1 flex flex-col items-center",children:[Object(a.jsxs)("span",{className:"sm:w-40 sm:mt-0 inline-block mt-2 text-gray-500",children:[t,":"]}),r]})},S=function(e){var t=e.title;return Object(a.jsx)("div",{className:"mb-3 text-lg font-bold text-center",children:t})},D=function(){return Object(a.jsx)("div",{style:{height:1},className:"bg-gray-700"})},T=function(e){var t=e.profile,n=Object(r.useState)(!1),c=Object(l.a)(n,2),s=c[0],i=c[1],o=Object(r.useRef)(null),d=function(e){Math.abs(e)>400&&i(!1)};return Object(r.useEffect)((function(){var e=function(){F(o.current,d)};return s?(F(o.current),window.addEventListener("scroll",e)):o.current.style.transform="translate(0)",function(){return window.removeEventListener("scroll",e)}}),[s]),Object(a.jsxs)(a.Fragment,{children:[s&&Object(a.jsx)("button",{onClick:function(){return i(!1)},className:"opacity-60 fixed inset-0 z-40 w-screen bg-black"}),Object(a.jsxs)("div",{ref:o,className:"".concat(s?"show bg-black overflow-y-auto h-.9screen max-h-card sm:w-card sm:hover:bg-gray-900 z-50":""," group card"),children:[s&&Object(a.jsx)("button",{className:"top-5 left-5 absolute",onClick:function(){return i(!1)},children:Object(a.jsx)(L.b,{size:30,className:"text-red-700"})}),Object(a.jsx)("h1",{className:"text-xl text-center",children:t.FullName}),Object(a.jsx)("div",{className:"sm:px-5 px-2 mt-8 font-light text-gray-300",children:s?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"mb-5",children:[Object(a.jsx)(S,{title:"Basic Info"}),Object(a.jsx)(E,{value:t.FirstName,name:"First name"}),Object(a.jsx)(E,{value:t.LastName,name:"Last name"}),Object(a.jsx)(E,{value:t.UserName,name:"Username"}),Object(a.jsx)(E,{value:t.PhoneNumber,name:"Phone number"}),Object(a.jsx)(E,{value:t.Email,name:"Email"}),Object(a.jsx)(E,{value:t.Gender,name:"Gender"})]}),Object(a.jsx)(D,{}),Object(a.jsxs)("div",{className:"mt-5 mb-5",children:[Object(a.jsx)(S,{title:"Payment Info"}),Object(a.jsx)(E,{value:t.CreditCardNumber,name:"Credit card no"}),Object(a.jsx)(E,{value:t.CreditCardType,name:"Credit Card Type"}),Object(a.jsx)(E,{value:P[t.PaymentMethod],name:"Payment Method"})]}),Object(a.jsx)(D,{}),Object(a.jsxs)("div",{className:"mt-5 mb-5",children:[Object(a.jsx)(S,{title:"Links"}),Object(a.jsx)(E,{value:t.URL,name:"URL"}),Object(a.jsx)(E,{value:t.DomainName,name:"Domain Name"})]}),Object(a.jsx)(D,{}),Object(a.jsxs)("div",{className:"mt-5",children:[Object(a.jsx)(S,{title:"Location"}),Object(a.jsx)(E,{value:t.MacAddress,name:"MAC Dddress"}),Object(a.jsx)(E,{value:t.Latitude,name:"Latitude"}),Object(a.jsx)(E,{value:t.Longitude,name:"Longitude"})]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E,{value:t.Email,name:"Email"}),Object(a.jsx)(E,{value:t.Gender,name:"Gender"}),Object(a.jsx)(E,{value:P[t.PaymentMethod],name:"Payment Method"})]})}),!s&&Object(a.jsxs)(f,{type:"secondary",onClick:function(){return i(!0)},className:"group-hover:text-purple-50 group-hover:bg-purple-700 block mx-auto mt-8",children:["View More ",Object(a.jsx)(L.a,{className:"inline"})]})]})]})},z=function(e){var t=e.paginatedProfiles;return Object(a.jsx)("div",{id:"card-list",className:"card-list mt-10",children:t.data.map((function(e){return Object(a.jsx)(T,{profile:e},e.Email)}))})},B=function(){var e=function(){var e=Object(r.useState)({isFetching:!0}),t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){!function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("https://api.enye.tech/v1/challenge/records");case 3:(t=e.sent).data.records.profiles=t.data.records.profiles.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{FullName:"".concat(e.FirstName," ").concat(e.LastName)})})),a((function(e){return Object(i.a)(Object(i.a)({},e),{},{data:t.data,isFetching:!1})})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response),a((function(t){return Object(i.a)(Object(i.a)({},t),{},{error:e.t0,isFetching:!1})}));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[a]),Object(i.a)({},n)}(),t=e.data,n=e.isFetching,c=e.error,s=Object(r.useState)(""),o=Object(l.a)(s,2),u=o[0],h=o[1],x=Object(r.useState)(0),f=Object(l.a)(x,2),O=f[0],v=f[1],g=Object(r.useState)(1),N=Object(l.a)(g,2),P=N[0],L=N[1],F=Object(r.useState)({genders:[],paymentMethod:""}),E=Object(l.a)(F,2),S=E[0],D=E[1],T=Object(r.useState)({data:[],hasMore:!1}),B=Object(l.a)(T,2),G=B[0],A=B[1],R=function(){L((function(e){return e-1})),v((function(e){return e-20}))},U=function(){L((function(e){return e+1})),v((function(e){return e+20}))};Object(r.useEffect)((function(){v(0),L(1)}),[u,S,v]),Object(r.useEffect)((function(){if(t){var e=function(e,t,n){var a=[];return a=""===e?t.records.profiles:new M.a(t.records.profiles,{keys:["FullName"],threshold:.4,shouldSort:!0}).search(e).map((function(e){return e.item})),n.genders.length>0&&(a=a.filter((function(e){return n.genders.includes(e.Gender.toLowerCase())}))),["All",""].includes(n.paymentMethod)||(a=a.filter((function(e){return e.PaymentMethod===n.paymentMethod}))),a}(u,t,S);A(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.min(t,e.size);var n=Math.min(t+20+1,e.size),a=e.records.profiles.slice(t,n).slice(0,20),r=20===a.length;return{data:a,hasMore:r}}(Object(i.a)(Object(i.a)({},t),{},{records:{profiles:e}}),O))}}),[t,O,A,u,S]);return Object(a.jsxs)(p,{children:[Object(a.jsx)(y,{onChange:function(e){return h(e.target.value)}}),Object(a.jsxs)("div",{className:"max-w-md px-3 py-5 mx-auto my-5 bg-white border-2 border-purple-700 border-opacity-50 rounded-md shadow-md",children:[Object(a.jsx)("p",{className:"text-lg",children:"Filters"}),Object(a.jsxs)("div",{className:" flex flex-col mt-2",children:[Object(a.jsx)("span",{className:"block mr-5 text-gray-600",children:"Gender:"}),Object(a.jsx)(C,{handleCheckBoxChange:function(e){var t=e.target.value.toLowerCase();D((function(e){var n=e.genders;return n.includes(t)?n=n.filter((function(e){return e!==t})):n.push(t),Object(i.a)(Object(i.a)({},e),{},{genders:n})}))}})]}),Object(a.jsxs)("div",{className:"flex flex-col mt-2",children:[Object(a.jsx)("span",{className:"mr-2 text-gray-600",children:"Payment Method:"}),Object(a.jsx)(k,{handleChange:function(e){D((function(t){return Object(i.a)(Object(i.a)({},t),{},{paymentMethod:e.target.value})}))}})]})]}),c&&Object(a.jsx)("div",{className:"flex items-center justify-center h-64",children:Object(a.jsx)("h1",{className:"text-4xl font-bold text-red-600",children:null===c||void 0===c?void 0:c.message})}),n?Object(a.jsx)("div",{className:"flex items-center justify-center min-h-.8screen text-white",children:Object(a.jsx)(b.a,{color:"black",size:50,className:"animate-spin"})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(w,{cursor:O,setCursor:v,data:G,nextPage:U,prevPage:R,pageNumber:P}),Object(a.jsx)(z,{paginatedProfiles:G}),Object(a.jsx)(w,{cursor:O,setCursor:v,data:G,nextPage:U,prevPage:R,scroll:!0,pageNumber:P})]})]})};n(51);s.a.render(Object(a.jsx)(B,{}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.285056f3.chunk.js.map